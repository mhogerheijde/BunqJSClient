!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("BunqJSClient",[],e):"object"==typeof exports?exports.BunqJSClient=e():t.BunqJSClient=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=35)}([function(t,e){t.exports={options:{usePureJavaScript:!1}}},function(t,e,r){(function(e,n){function i(t){if(8!==t&&16!==t&&24!==t&&32!==t)throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}function s(t){if(this.data="",this.read=0,"string"==typeof t)this.data=t;else if(o.isArrayBuffer(t)||o.isArrayBufferView(t)){var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(t){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof s||"object"==typeof t&&"string"==typeof t.data&&"number"==typeof t.read)&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}var a=r(0),o=t.exports=a.util=a.util||{};!function(){if(void 0!==e&&e.nextTick)return o.nextTick=e.nextTick,void(o.setImmediate="function"==typeof n?n:o.nextTick);if("function"==typeof n)return o.setImmediate=function(){return n.apply(void 0,arguments)},void(o.nextTick=function(t){return n(t)});if(o.setImmediate=function(t){setTimeout(t,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var t="forge.setImmediate",r=[];o.setImmediate=function(e){r.push(e),1===r.length&&window.postMessage(t,"*")};function i(e){if(e.source===window&&e.data===t){e.stopPropagation();var n=r.slice();r.length=0,n.forEach(function(t){t()})}}window.addEventListener("message",i,!0)}if("undefined"!=typeof MutationObserver){var s=Date.now(),a=!0,u=document.createElement("div"),r=[];new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})}).observe(u,{attributes:!0});var c=o.setImmediate;o.setImmediate=function(t){Date.now()-s>15?(s=Date.now(),c(t)):(r.push(t),1===r.length&&u.setAttribute("a",a=!a))}}o.nextTick=o.setImmediate}(),o.isNodejs=void 0!==e&&e.versions&&e.versions.node,o.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},o.isArrayBuffer=function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer},o.isArrayBufferView=function(t){return t&&o.isArrayBuffer(t.buffer)&&void 0!==t.byteLength},o.ByteBuffer=s,o.ByteStringBuffer=s;o.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},o.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},o.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},o.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))},o.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this},o.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this},o.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(o.encodeUtf8(t))},o.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},o.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},o.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},o.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255))},o.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))},o.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))},o.ByteStringBuffer.prototype.putInt=function(t,e){i(e);var r="";do{e-=8,r+=String.fromCharCode(t>>e&255)}while(e>0);return this.putBytes(r)},o.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},o.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())},o.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},o.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t},o.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t},o.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t},o.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t},o.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t},o.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t},o.ByteStringBuffer.prototype.getInt=function(t){i(t);var e=0;do{e=(e<<8)+this.data.charCodeAt(this.read++),t-=8}while(t>0);return e},o.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},o.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},o.ByteStringBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},o.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)},o.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this},o.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},o.ByteStringBuffer.prototype.copy=function(){var t=o.createBuffer(this.data);return t.read=this.read,t},o.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},o.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},o.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this},o.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t},o.ByteStringBuffer.prototype.toString=function(){return o.decodeUtf8(this.bytes())},o.DataBuffer=function(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=o.isArrayBuffer(t),n=o.isArrayBufferView(t);if(r||n)return this.data=r?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),void(this.write="writeOffset"in e?e.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==t&&void 0!==t&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)},o.DataBuffer.prototype.length=function(){return this.write-this.read},o.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},o.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this},o.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this},o.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this},o.DataBuffer.prototype.putBytes=function(t,e){if(o.isArrayBufferView(t)){var r=(n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),(i=new Uint8Array(this.data.buffer,this.write)).set(n),this.write+=r,this}if(o.isArrayBuffer(t)){n=new Uint8Array(t);return this.accommodate(n.byteLength),(i=new Uint8Array(this.data.buffer)).set(n,this.write),this.write+=n.byteLength,this}if(t instanceof o.DataBuffer||"object"==typeof t&&"number"==typeof t.read&&"number"==typeof t.write&&o.isArrayBufferView(t.data)){var n=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(n.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(n),this.write+=n.byteLength,this}if(t instanceof o.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary","string"==typeof t){var s;if("hex"===e)return this.accommodate(Math.ceil(t.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.hex.decode(t,s,this.write),this;if("base64"===e)return this.accommodate(3*Math.ceil(t.length/4)),s=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.base64.decode(t,s,this.write),this;if("utf8"===e&&(t=o.encodeUtf8(t),e="binary"),"binary"===e||"raw"===e)return this.accommodate(t.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=o.binary.raw.decode(s),this;if("utf16"===e)return this.accommodate(2*t.length),s=new Uint16Array(this.data.buffer,this.write),this.write+=o.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)},o.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this},o.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")},o.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this},o.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this},o.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this},o.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this},o.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this},o.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this},o.DataBuffer.prototype.putInt=function(t,e){i(e),this.accommodate(e/8);do{e-=8,this.data.setInt8(this.write++,t>>e&255)}while(e>0);return this},o.DataBuffer.prototype.putSignedInt=function(t,e){return i(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)},o.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},o.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t},o.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t},o.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t},o.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t},o.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t},o.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t},o.DataBuffer.prototype.getInt=function(t){i(t);var e=0;do{e=(e<<8)+this.data.getInt8(this.read++),t-=8}while(t>0);return e},o.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},o.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},o.DataBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},o.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)},o.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this},o.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},o.DataBuffer.prototype.copy=function(){return new o.DataBuffer(this)},o.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},o.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},o.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this},o.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t},o.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if("binary"===(t=t||"utf8")||"raw"===t)return o.binary.raw.encode(e);if("hex"===t)return o.binary.hex.encode(e);if("base64"===t)return o.binary.base64.encode(e);if("utf8"===t)return o.text.utf8.decode(e);if("utf16"===t)return o.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)},o.createBuffer=function(t,e){return e=e||"raw",void 0!==t&&"utf8"===e&&(t=o.encodeUtf8(t)),new o.ByteBuffer(t)},o.fillString=function(t,e){for(var r="";e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return r},o.xorBytes=function(t,e,r){for(var n="",i="",s="",a=0,o=0;r>0;--r,++a)i=t.charCodeAt(a)^e.charCodeAt(a),o>=10&&(n+=s,s="",o=0),s+=String.fromCharCode(i),++o;return n+=s},o.hexToBytes=function(t){var e="",r=0;for(!0&t.length&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},o.bytesToHex=function(t){return o.createBuffer(t).toHex()},o.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)};var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];o.encode64=function(t,e){for(var r,n,i,s="",a="",o=0;o<t.length;)r=t.charCodeAt(o++),n=t.charCodeAt(o++),i=t.charCodeAt(o++),s+=u.charAt(r>>2),s+=u.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=u.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":u.charAt(63&i)),e&&s.length>e&&(a+=s.substr(0,e)+"\r\n",s=s.substr(e));return a+=s},o.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e,r,n,i,s="",a=0;a<t.length;)e=c[t.charCodeAt(a++)-43],r=c[t.charCodeAt(a++)-43],n=c[t.charCodeAt(a++)-43],i=c[t.charCodeAt(a++)-43],s+=String.fromCharCode(e<<2|r>>4),64!==n&&(s+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(s+=String.fromCharCode((3&n)<<6|i)));return s},o.encodeUtf8=function(t){return unescape(encodeURIComponent(t))},o.decodeUtf8=function(t){return decodeURIComponent(escape(t))},o.binary={raw:{},hex:{},base64:{}},o.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)},o.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n},o.binary.hex.encode=o.bytesToHex,o.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2)));var i=0,s=r=r||0;for(1&t.length&&(i=1,n[s++]=parseInt(t[0],16));i<t.length;i+=2)n[s++]=parseInt(t.substr(i,2),16);return e?s-r:n},o.binary.base64.encode=function(t,e){for(var r,n,i,s="",a="",o=0;o<t.byteLength;)r=t[o++],n=t[o++],i=t[o++],s+=u.charAt(r>>2),s+=u.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=u.charAt((15&n)<<2|i>>6),s+=isNaN(i)?"=":u.charAt(63&i)),e&&s.length>e&&(a+=s.substr(0,e)+"\r\n",s=s.substr(e));return a+=s},o.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(3*Math.ceil(t.length/4))),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var i,s,a,o,u=0,l=r=r||0;u<t.length;)i=c[t.charCodeAt(u++)-43],s=c[t.charCodeAt(u++)-43],a=c[t.charCodeAt(u++)-43],o=c[t.charCodeAt(u++)-43],n[l++]=i<<2|s>>4,64!==a&&(n[l++]=(15&s)<<4|a>>2,64!==o&&(n[l++]=(3&a)<<6|o));return e?l-r:n.subarray(0,l)},o.text={utf8:{},utf16:{}},o.text.utf8.encode=function(t,e,r){t=o.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,s=0;s<t.length;++s)n[i++]=t.charCodeAt(s);return e?i-r:n},o.text.utf8.decode=function(t){return o.decodeUtf8(String.fromCharCode.apply(null,t))},o.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(2*t.length));for(var i=new Uint16Array(n.buffer),s=r=r||0,a=r,o=0;o<t.length;++o)i[a++]=t.charCodeAt(o),s+=2;return e?s-r:n},o.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},o.deflate=function(t,e,r){if(e=o.decode64(t.deflate(o.encode64(e)).rval),r){var n=2;32&e.charCodeAt(1)&&(n=6),e=e.substring(n,e.length-4)}return e},o.inflate=function(t,e,r){var n=t.inflate(o.encode64(e)).rval;return null===n?null:o.decode64(n)};var l=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(null===r?n=t.removeItem(e):(r=o.encode64(JSON.stringify(r)),n=t.setItem(e,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},h=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(o.decode64(r))),r},p=function(t,e,r,n){var i=h(t,e);null===i&&(i={}),i[r]=n,l(t,e,i)},f=function(t,e,r){var n=h(t,e);return null!==n&&(n=r in n?n[r]:null),n},d=function(t,e,r){var n=h(t,e);if(null!==n&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),l(t,e,n)}},y=function(t,e){l(t,e,null)},g=function(t,e,r){var n=null;void 0===r&&(r=["web","flash"]);var i,s=!1,a=null;for(var o in r){i=r[o];try{if("flash"===i||"both"===i){if(null===e[0])throw new Error("Flash local storage not available.");n=t.apply(this,e),s="flash"===i}"web"!==i&&"both"!==i||(e[0]=localStorage,n=t.apply(this,e),s=!0)}catch(t){a=t}if(s)break}if(!s)throw a;return n};o.setItem=function(t,e,r,n,i){g(p,arguments,i)},o.getItem=function(t,e,r,n){return g(f,arguments,n)},o.removeItem=function(t,e,r,n){g(d,arguments,n)},o.clearItems=function(t,e,r){g(y,arguments,r)},o.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=null===r?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var m=null;o.getQueryVariables=function(t){var e,r=function(t){for(var e={},r=t.split("&"),n=0;n<r.length;n++){var i,s,a=r[n].indexOf("=");a>0?(i=r[n].substring(0,a),s=r[n].substring(a+1)):(i=r[n],s=null),i in e||(e[i]=[]),i in Object.prototype||null===s||e[i].push(unescape(s))}return e};return void 0===t?(null===m&&(m="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),e=m):e=r(t),e},o.parseFragment=function(t){var e=t,r="",n=t.indexOf("?");n>0&&(e=t.substring(0,n),r=t.substring(n+1));var i=e.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:e,queryString:r,path:i,query:""===r?{}:o.getQueryVariables(r)}},o.makeRequest=function(t){var e=o.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(t){return void 0===t?e.path:e.path[t]},getQuery:function(t,r){var n;return void 0===t?n=e.query:(n=e.query[t])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(t,e){var n=r.getQuery(t);return n?n[n.length-1]:e}};return r},o.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},o.setPath=function(t,e,r){if("object"==typeof t&&null!==t)for(var n=0,i=e.length;n<i;){var s=e[n++];if(n==i)t[s]=r;else{var a=s in t;(!a||a&&"object"!=typeof t[s]||a&&null===t[s])&&(t[s]={}),t=t[s]}}},o.getPath=function(t,e,r){for(var n=0,i=e.length,s=!0;s&&n<i&&"object"==typeof t&&null!==t;){var a=e[n++];(s=a in t)&&(t=t[a])}return s?t:r},o.deletePath=function(t,e){if("object"==typeof t&&null!==t)for(var r=0,n=e.length;r<n;){var i=e[r++];if(r==n)delete t[i];else{if(!(i in t)||"object"!=typeof t[i]||null===t[i])break;t=t[i]}}},o.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},o.format=function(t){for(var e,r,n=/%./g,i=0,s=[],a=0;e=n.exec(t);){(r=t.substring(a,n.lastIndex-2)).length>0&&s.push(r),a=n.lastIndex;var o=e[0][1];switch(o){case"s":case"o":i<arguments.length?s.push(arguments[1+i++]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+o+"?>")}}return s.push(t.substring(a)),s.join("")},o.formatNumber=function(t,e,r,n){var i=t,s=isNaN(e=Math.abs(e))?2:e,a=void 0===r?",":r,o=void 0===n?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+o:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?a+Math.abs(i-c).toFixed(s).slice(2):"")},o.formatSize=function(t){return t=t>=1073741824?o.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?o.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?o.formatNumber(t/1024,0)+" KiB":o.formatNumber(t,0)+" bytes"},o.bytesFromIP=function(t){return-1!==t.indexOf(".")?o.bytesFromIPv4(t):-1!==t.indexOf(":")?o.bytesFromIPv6(t):null},o.bytesFromIPv4=function(t){if(4!==(t=t.split(".")).length)return null;for(var e=o.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()},o.bytesFromIPv6=function(t){for(var e=0,r=2*(8-(t=t.split(":").filter(function(t){return 0===t.length&&++e,!0})).length+e),n=o.createBuffer(),i=0;i<8;++i)if(t[i]&&0!==t[i].length){var s=o.hexToBytes(t[i]);s.length<2&&n.putByte(0),n.putBytes(s)}else n.fillWithByte(0,r),r=0;return n.getBytes()},o.bytesToIP=function(t){return 4===t.length?o.bytesToIPv4(t):16===t.length?o.bytesToIPv6(t):null},o.bytesToIPv4=function(t){if(4!==t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")},o.bytesToIPv6=function(t){if(16!==t.length)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var s=o.bytesToHex(t[i]+t[i+1]);"0"===s[0]&&"0"!==s;)s=s.substr(1);if("0"===s){var a=r[r.length-1],u=e.length;a&&u===a.end+1?(a.end=u,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}e.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(e.splice(c.start,c.end-c.start+1,""),0===c.start&&e.unshift(""),7===c.end&&e.push(""))}return e.join(":")},o.estimateCores=function(t,e){function r(t,a,u){if(0===a){var c=Math.floor(t.reduce(function(t,e){return t+e},0)/t.length);return o.cores=Math.max(1,c),URL.revokeObjectURL(s),e(null,o.cores)}n(u,function(e,n){t.push(i(u,n)),r(t,a-1,u)})}function n(t,e){for(var r=[],n=[],i=0;i<t;++i){var a=new Worker(s);a.addEventListener("message",function(i){if(n.push(i.data),n.length===t){for(var s=0;s<t;++s)r[s].terminate();e(null,n)}}),r.push(a)}for(i=0;i<t;++i)r[i].postMessage(i)}function i(t,e){for(var r=[],n=0;n<t;++n)for(var i=e[n],s=r[n]=[],a=0;a<t;++a)if(n!==a){var o=e[a];(i.st>o.st&&i.st<o.et||o.st>i.st&&o.st<i.et)&&s.push(a)}return r.reduce(function(t,e){return Math.max(t,e.length)},0)}if("function"==typeof t&&(e=t,t={}),t=t||{},"cores"in o&&!t.update)return e(null,o.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return o.cores=navigator.hardwareConcurrency,e(null,o.cores);if("undefined"==typeof Worker)return o.cores=1,e(null,o.cores);if("undefined"==typeof Blob)return o.cores=2,e(null,o.cores);var s=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(t){for(var e=Date.now(),r=e+4;Date.now()<r;);self.postMessage({st:e,et:r})})}.toString(),")()"],{type:"application/javascript"}));r([],5,16)}}).call(e,r(4),r(69).setImmediate)},function(t,e,r){"use strict";function n(t){return"[object Array]"===l.call(t)}function i(t){return null!==t&&"object"==typeof t}function s(t){return"[object Function]"===l.call(t)}function a(t,e){if(null!==t&&void 0!==t)if("object"==typeof t||n(t)||(t=[t]),n(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}function o(){for(var t={},e=0,r=arguments.length;e<r;e++)a(arguments[e],function(e,r){"object"==typeof t[r]&&"object"==typeof e?t[r]=o(t[r],e):t[r]=e});return t}var u=r(20),c=r(52),l=Object.prototype.toString;t.exports={isArray:n,isArrayBuffer:function(t){return"[object ArrayBuffer]"===l.call(t)},isBuffer:c,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:i,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===l.call(t)},isFile:function(t){return"[object File]"===l.call(t)},isBlob:function(t){return"[object Blob]"===l.call(t)},isFunction:s,isStream:function(t){return i(t)&&s(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:a,merge:o,extend:function(t,e,r){return a(e,function(e,n){t[n]=r&&"function"==typeof e?u(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){t.exports=r(50).Promise},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){y&&f&&(y=!1,f.length?d=f.concat(d):g=-1,d.length&&o())}function o(){if(!y){var t=i(a);y=!0;for(var e=d.length;e;){for(f=d,d=[];++g<e;)f&&f[g].run();g=-1,e=d.length}f=null,y=!1,s(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var f,d=[],y=!1,g=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new u(t,e)),1!==d.length||y||i(o)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,r){(function(e){function r(t,e){return Array.prototype.slice.call(t,e||0)}function n(t,e){i(t,function(t,r){return e(t,r),!1})}function i(t,e){if(s(t)){for(var r=0;r<t.length;r++)if(e(t[r],r))return t[r]}else for(var n in t)if(t.hasOwnProperty(n)&&e(t[n],n))return t[n]}function s(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}var a=Object.assign?Object.assign:function(t,e,r,i){for(var s=1;s<arguments.length;s++)n(Object(arguments[s]),function(e,r){t[r]=e});return t},o=function(){if(Object.create)return function(t,e,n,i){var s=r(arguments,1);return a.apply(this,[Object.create(t)].concat(s))};{function t(){}return function(e,n,i,s){var o=r(arguments,1);return t.prototype=e,a.apply(this,[new t].concat(o))}}}(),u=String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},c="undefined"!=typeof window?window:e;t.exports={assign:a,create:o,trim:u,bind:function(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}},slice:r,each:n,map:function(t,e){var r=s(t)?[]:{};return i(t,function(t,n){return r[n]=e(t,n),!1}),r},pluck:i,isList:s,isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isObject:function(t){return t&&"[object Object]"==={}.toString.call(t)},Global:c}}).call(e,r(10))},function(t,e,r){var n=r(0);t.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},function(t,e,r){function n(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}function i(t,e,r,s){var u;n(t,e,2);var c=t.getByte();e--;var l=192&c,h=31&c;u=t.length();var p=o(t,e);if(e-=u-t.length(),void 0!==p&&p>e){if(s.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=t.length(),f.remaining=e,f.requested=p,f}p=e}var d,y,g=32==(32&c);if(g)if(d=[],void 0===p)for(;;){if(n(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}u=t.length(),d.push(i(t,e,r+1,s)),e-=u-t.length()}else for(;p>0;)u=t.length(),d.push(i(t,p,r+1,s)),e-=u-t.length(),p-=u-t.length();if(void 0===d&&l===a.Class.UNIVERSAL&&h===a.Type.BITSTRING&&(y=t.bytes(p)),void 0===d&&s.decodeBitStrings&&l===a.Class.UNIVERSAL&&h===a.Type.BITSTRING&&p>1){var m=t.read,v=e,E=0;if(h===a.Type.BITSTRING&&(n(t,e,1),E=t.getByte(),e--),0===E)try{u=t.length();var C=i(t,e,r+1,{verbose:s.verbose,strict:!0,decodeBitStrings:!0}),S=u-t.length();e-=S,h==a.Type.BITSTRING&&S++;var b=C.tagClass;S!==p||b!==a.Class.UNIVERSAL&&b!==a.Class.CONTEXT_SPECIFIC||(d=[C])}catch(t){}void 0===d&&(t.read=m,e=v)}if(void 0===d){if(void 0===p){if(s.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");p=e}if(h===a.Type.BMPSTRING)for(d="";p>0;p-=2)n(t,e,2),d+=String.fromCharCode(t.getInt16()),e-=2;else d=t.getBytes(p)}var T=void 0===y?null:{bitStringContents:y};return a.create(l,h,g,d,T)}var s=r(0);r(1),r(8);var a=t.exports=s.asn1=s.asn1||{};a.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},a.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},a.create=function(t,e,r,n,i){if(s.util.isArray(n)){for(var o=[],u=0;u<n.length;++u)void 0!==n[u]&&o.push(n[u]);n=o}var c={tagClass:t,type:e,constructed:r,composed:r||s.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(c.bitStringContents=i.bitStringContents,c.original=a.copy(c)),c},a.copy=function(t,e){var r;if(s.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(a.copy(t[n],e));return r}return"string"==typeof t?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:a.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)},a.equals=function(t,e,r){if(s.util.isArray(t)){if(!s.util.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)return!!a.equals(t[n],e[n])}if(typeof t!=typeof e)return!1;if("string"==typeof t)return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&a.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i},a.getBerValueLength=function(t){var e=t.getByte();if(128!==e){return 128&e?t.getInt((127&e)<<3):e}};var o=function(t,e){var r=t.getByte();if(e--,128!==r){var i;if(128&r){var s=127&r;n(t,e,s),i=t.getInt(s<<3)}else i=r;if(i<0)throw new Error("Negative length: "+i);return i}};a.fromDer=function(t,e){return void 0===e&&(e={strict:!0,decodeBitStrings:!0}),"boolean"==typeof e&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),"string"==typeof t&&(t=s.util.createBuffer(t)),i(t,t.length(),0,e)},a.toDer=function(t){var e=s.util.createBuffer(),r=t.tagClass|t.type,n=s.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=a.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(c=0;c<t.value.length;++c)void 0!==t.value[c]&&n.putBuffer(a.toDer(t.value[c]))}else if(t.type===a.Type.BMPSTRING)for(c=0;c<t.value.length;++c)n.putInt16(t.value.charCodeAt(c));else t.type===a.Type.INTEGER&&t.value.length>1&&(0===t.value.charCodeAt(0)&&0==(128&t.value.charCodeAt(1))||255===t.value.charCodeAt(0)&&128==(128&t.value.charCodeAt(1)))?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(127&n.length());else{var o=n.length(),u="";do{u+=String.fromCharCode(255&o),o>>>=8}while(o>0);e.putByte(128|u.length);for(var c=u.length-1;c>=0;--c)e.putByte(u.charCodeAt(c))}return e.putBuffer(n),e},a.oidToDer=function(t){var e=t.split("."),r=s.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,a,o,u=2;u<e.length;++u){n=!0,i=[],a=parseInt(e[u],10);do{o=127&a,a>>>=7,n||(o|=128),i.push(o),n=!1}while(a>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r},a.derToOid=function(t){var e;"string"==typeof t&&(t=s.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)n<<=7,128&(r=t.getByte())?n+=127&r:(e+="."+(n+r),n=0);return e},a.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),o=0;if(t.length>11){var u=t.charAt(10),c=10;"+"!==u&&"-"!==u&&(o=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(s,a,o,0),c&&("+"===(u=t.charAt(c))||"-"===u)){var l=60*parseInt(t.substr(c+1,2),10)+parseInt(t.substr(c+4,2),10);l*=6e4,"+"===u?e.setTime(+e-l):e.setTime(+e+l)}return e},a.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),u=0,c=0,l=!1;"Z"===t.charAt(t.length-1)&&(l=!0);var h=t.length-5,p=t.charAt(h);return"+"!==p&&"-"!==p||(c=60*parseInt(t.substr(h+1,2),10)+parseInt(t.substr(h+4,2),10),c*=6e4,"+"===p&&(c*=-1),l=!0),"."===t.charAt(14)&&(u=1e3*parseFloat(t.substr(14),10)),l?(e.setUTCFullYear(r,n,i),e.setUTCHours(s,a,o,u),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(s,a,o,u)),e},a.dateToUtcTime=function(t){if("string"==typeof t)return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z"},a.dateToGeneralizedTime=function(t){if("string"==typeof t)return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z"},a.integerToDer=function(t){var e=s.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r},a.derToInteger=function(t){"string"==typeof t&&(t=s.util.createBuffer(t));var e=8*t.length();if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)},a.validate=function(t,e,r,n){var i=!1;if(t.tagClass!==e.tagClass&&void 0!==e.tagClass||t.type!==e.type&&void 0!==e.type)n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));else if(t.constructed===e.constructed||void 0===e.constructed){if(i=!0,e.value&&s.util.isArray(e.value))for(var o=0,u=0;i&&u<e.value.length;++u)i=e.value[u].optional||!1,t.value[o]&&((i=a.validate(t.value[o],e.value[u],r,n))?++o:e.value[u].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{if(0!==t.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');return i};var u=/[^\\u0000-\\u00ff]/;a.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+="\n");for(var i="",o=0;o<e*r;++o)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case a.Class.UNIVERSAL:n+="Universal:";break;case a.Class.APPLICATION:n+="Application:";break;case a.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case a.Class.PRIVATE:n+="Private:"}if(t.tagClass===a.Class.UNIVERSAL)switch(n+=t.type,t.type){case a.Type.NONE:n+=" (None)";break;case a.Type.BOOLEAN:n+=" (Boolean)";break;case a.Type.INTEGER:n+=" (Integer)";break;case a.Type.BITSTRING:n+=" (Bit string)";break;case a.Type.OCTETSTRING:n+=" (Octet string)";break;case a.Type.NULL:n+=" (Null)";break;case a.Type.OID:n+=" (Object Identifier)";break;case a.Type.ODESC:n+=" (Object Descriptor)";break;case a.Type.EXTERNAL:n+=" (External or Instance of)";break;case a.Type.REAL:n+=" (Real)";break;case a.Type.ENUMERATED:n+=" (Enumerated)";break;case a.Type.EMBEDDED:n+=" (Embedded PDV)";break;case a.Type.UTF8:n+=" (UTF8)";break;case a.Type.ROID:n+=" (Relative Object Identifier)";break;case a.Type.SEQUENCE:n+=" (Sequence)";break;case a.Type.SET:n+=" (Set)";break;case a.Type.PRINTABLESTRING:n+=" (Printable String)";break;case a.Type.IA5String:n+=" (IA5String (ASCII))";break;case a.Type.UTCTIME:n+=" (UTC time)";break;case a.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case a.Type.BMPSTRING:n+=" (BMP String)"}else n+=t.type;if(n+="\n",n+=i+"Constructed: "+t.constructed+"\n",t.composed){for(var c=0,l="",o=0;o<t.value.length;++o)void 0!==t.value[o]&&(c+=1,l+=a.prettyPrint(t.value[o],e+1,r),o+1<t.value.length&&(l+=","));n+=i+"Sub values: "+c+l}else{if(n+=i+"Value: ",t.type===a.Type.OID){var h=a.derToOid(t.value);n+=h,s.pki&&s.pki.oids&&h in s.pki.oids&&(n+=" ("+s.pki.oids[h]+") ")}if(t.type===a.Type.INTEGER)try{n+=a.derToInteger(t.value)}catch(e){n+="0x"+s.util.bytesToHex(t.value)}else if(t.type===a.Type.BITSTRING){if(t.value.length>1?n+="0x"+s.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var p=t.value.charCodeAt(0);1==p?n+=" (1 unused bit shown)":p>1&&(n+=" ("+p+" unused bits shown)")}}else t.type===a.Type.OCTETSTRING?(u.test(t.value)||(n+="("+t.value+") "),n+="0x"+s.util.bytesToHex(t.value)):t.type===a.Type.UTF8?n+=s.util.decodeUtf8(t.value):t.type===a.Type.PRINTABLESTRING||t.type===a.Type.IA5String?n+=t.value:u.test(t.value)?n+="0x"+s.util.bytesToHex(t.value):0===t.value.length?n+="[null]":n+=t.value}return n}},function(t,e,r){function n(t,e){a[t]=e,a[e]=t}function i(t,e){a[t]=e}var s=r(0);s.pki=s.pki||{};var a=t.exports=s.pki.oids=s.oids=s.oids||{};n("1.2.840.113549.1.1.1","rsaEncryption"),n("1.2.840.113549.1.1.4","md5WithRSAEncryption"),n("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),n("1.2.840.113549.1.1.7","RSAES-OAEP"),n("1.2.840.113549.1.1.8","mgf1"),n("1.2.840.113549.1.1.9","pSpecified"),n("1.2.840.113549.1.1.10","RSASSA-PSS"),n("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),n("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),n("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),n("1.3.14.3.2.7","desCBC"),n("1.3.14.3.2.26","sha1"),n("2.16.840.1.101.3.4.2.1","sha256"),n("2.16.840.1.101.3.4.2.2","sha384"),n("2.16.840.1.101.3.4.2.3","sha512"),n("1.2.840.113549.2.5","md5"),n("1.2.840.113549.1.7.1","data"),n("1.2.840.113549.1.7.2","signedData"),n("1.2.840.113549.1.7.3","envelopedData"),n("1.2.840.113549.1.7.4","signedAndEnvelopedData"),n("1.2.840.113549.1.7.5","digestedData"),n("1.2.840.113549.1.7.6","encryptedData"),n("1.2.840.113549.1.9.1","emailAddress"),n("1.2.840.113549.1.9.2","unstructuredName"),n("1.2.840.113549.1.9.3","contentType"),n("1.2.840.113549.1.9.4","messageDigest"),n("1.2.840.113549.1.9.5","signingTime"),n("1.2.840.113549.1.9.6","counterSignature"),n("1.2.840.113549.1.9.7","challengePassword"),n("1.2.840.113549.1.9.8","unstructuredAddress"),n("1.2.840.113549.1.9.14","extensionRequest"),n("1.2.840.113549.1.9.20","friendlyName"),n("1.2.840.113549.1.9.21","localKeyId"),n("1.2.840.113549.1.9.22.1","x509Certificate"),n("1.2.840.113549.1.12.10.1.1","keyBag"),n("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),n("1.2.840.113549.1.12.10.1.3","certBag"),n("1.2.840.113549.1.12.10.1.4","crlBag"),n("1.2.840.113549.1.12.10.1.5","secretBag"),n("1.2.840.113549.1.12.10.1.6","safeContentsBag"),n("1.2.840.113549.1.5.13","pkcs5PBES2"),n("1.2.840.113549.1.5.12","pkcs5PBKDF2"),n("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),n("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),n("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),n("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),n("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),n("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),n("1.2.840.113549.2.7","hmacWithSHA1"),n("1.2.840.113549.2.8","hmacWithSHA224"),n("1.2.840.113549.2.9","hmacWithSHA256"),n("1.2.840.113549.2.10","hmacWithSHA384"),n("1.2.840.113549.2.11","hmacWithSHA512"),n("1.2.840.113549.3.7","des-EDE3-CBC"),n("2.16.840.1.101.3.4.1.2","aes128-CBC"),n("2.16.840.1.101.3.4.1.22","aes192-CBC"),n("2.16.840.1.101.3.4.1.42","aes256-CBC"),n("2.5.4.3","commonName"),n("2.5.4.5","serialName"),n("2.5.4.6","countryName"),n("2.5.4.7","localityName"),n("2.5.4.8","stateOrProvinceName"),n("2.5.4.10","organizationName"),n("2.5.4.11","organizationalUnitName"),n("2.16.840.1.113730.1.1","nsCertType"),i("2.5.29.1","authorityKeyIdentifier"),i("2.5.29.2","keyAttributes"),i("2.5.29.3","certificatePolicies"),i("2.5.29.4","keyUsageRestriction"),i("2.5.29.5","policyMapping"),i("2.5.29.6","subtreesConstraint"),i("2.5.29.7","subjectAltName"),i("2.5.29.8","issuerAltName"),i("2.5.29.9","subjectDirectoryAttributes"),i("2.5.29.10","basicConstraints"),i("2.5.29.11","nameConstraints"),i("2.5.29.12","policyConstraints"),i("2.5.29.13","basicConstraints"),n("2.5.29.14","subjectKeyIdentifier"),n("2.5.29.15","keyUsage"),i("2.5.29.16","privateKeyUsagePeriod"),n("2.5.29.17","subjectAltName"),n("2.5.29.18","issuerAltName"),n("2.5.29.19","basicConstraints"),i("2.5.29.20","cRLNumber"),i("2.5.29.21","cRLReason"),i("2.5.29.22","expirationDate"),i("2.5.29.23","instructionCode"),i("2.5.29.24","invalidityDate"),i("2.5.29.25","cRLDistributionPoints"),i("2.5.29.26","issuingDistributionPoint"),i("2.5.29.27","deltaCRLIndicator"),i("2.5.29.28","issuingDistributionPoint"),i("2.5.29.29","certificateIssuer"),i("2.5.29.30","nameConstraints"),n("2.5.29.31","cRLDistributionPoints"),n("2.5.29.32","certificatePolicies"),i("2.5.29.33","policyMappings"),i("2.5.29.34","policyConstraints"),n("2.5.29.35","authorityKeyIdentifier"),i("2.5.29.36","policyConstraints"),n("2.5.29.37","extKeyUsage"),i("2.5.29.46","freshestCRL"),i("2.5.29.54","inhibitAnyPolicy"),n("1.3.6.1.4.1.11129.2.4.2","timestampList"),n("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),n("1.3.6.1.5.5.7.3.1","serverAuth"),n("1.3.6.1.5.5.7.3.2","clientAuth"),n("1.3.6.1.5.5.7.3.3","codeSigning"),n("1.3.6.1.5.5.7.3.4","emailProtection"),n("1.3.6.1.5.5.7.3.8","timeStamping")},function(t,e,r){var n=r(0);r(12),r(75),r(76),r(1),n.random&&n.random.getBytes?t.exports=n.random:function(e){function r(){var t=n.prng.create(i);return t.getBytes=function(e,r){return t.generate(e,r)},t.getBytesSync=function(e){return t.generate(e)},t}var i={},s=new Array(4),a=n.util.createBuffer();i.formatKey=function(t){var e=n.util.createBuffer(t);return t=new Array(4),t[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),n.aes._expandKey(t,!1)},i.formatSeed=function(t){var e=n.util.createBuffer(t);return t=new Array(4),t[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),t},i.cipher=function(t,e){return n.aes._updateBlock(t,e,s,!1),a.putInt32(s[0]),a.putInt32(s[1]),a.putInt32(s[2]),a.putInt32(s[3]),a.getBytes()},i.increment=function(t){return++t[3],t},i.md=n.md.sha256;var o=r(),u=null;if("undefined"!=typeof window){var c=window.crypto||window.msCrypto;c&&c.getRandomValues&&(u=function(t){return c.getRandomValues(t)})}if(n.options.usePureJavaScript||!n.util.isNodejs&&!u){if("undefined"==typeof window||window.document,o.collectInt(+new Date,32),"undefined"!=typeof navigator){var l="";for(var h in navigator)try{"string"==typeof navigator[h]&&(l+=navigator[h])}catch(t){}o.collect(l),l=null}e&&(e().mousemove(function(t){o.collectInt(t.clientX,16),o.collectInt(t.clientY,16)}),e().keypress(function(t){o.collectInt(t.charCode,8)}))}if(n.random)for(var h in o)n.random[h]=o[h];else n.random=o;n.random.createInstance=r,t.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){t.exports=r(0),r(12),r(16),r(15),r(17),r(74),r(1)},function(t,e,r){function n(t,e){u.cipher.registerAlgorithm(t,function(){return new u.aes.Algorithm(t,e)})}function i(){d=!0,h=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;c=new Array(256),l=new Array(256),p=new Array(4),f=new Array(4);for(e=0;e<4;++e)p[e]=new Array(256),f[e]=new Array(256);for(var r,n,i,s,a,o,u,y=0,g=0,e=0;e<256;++e){s=(s=g^g<<1^g<<2^g<<3^g<<4)>>8^255&s^99,c[y]=s,l[s]=y,o=(a=t[s])<<24^s<<16^s<<8^s^a,u=((r=t[y])^(n=t[r])^(i=t[n]))<<24^(y^i)<<16^(y^n^i)<<8^y^r^i;for(var m=0;m<4;++m)p[m][y]=o,f[m][s]=u,o=o<<24|o>>>8,u=u<<24|u>>>8;0===y?y=g=1:(y=r^t[t[t[r^i]]],g^=t[t[g]])}}function s(t,e){for(var r,n=t.slice(0),i=1,s=n.length,a=y*(s+6+1),o=s;o<a;++o)r=n[o-1],o%s==0?(r=c[r>>>16&255]<<24^c[r>>>8&255]<<16^c[255&r]<<8^c[r>>>24]^h[i]<<24,i++):s>6&&o%s==4&&(r=c[r>>>24]<<24^c[r>>>16&255]<<16^c[r>>>8&255]<<8^c[255&r]),n[o]=n[o-s]^r;if(e){for(var u,l=f[0],p=f[1],d=f[2],g=f[3],m=n.slice(0),o=0,v=(a=n.length)-y;o<a;o+=y,v-=y)if(0===o||o===a-y)m[o]=n[v],m[o+1]=n[v+3],m[o+2]=n[v+2],m[o+3]=n[v+1];else for(var E=0;E<y;++E)u=n[v+E],m[o+(3&-E)]=l[c[u>>>24]]^p[c[u>>>16&255]]^d[c[u>>>8&255]]^g[c[255&u]];n=m}return n}function a(t,e,r,n){var i,s,a,o,u,h=t.length/4-1;n?(i=f[0],s=f[1],a=f[2],o=f[3],u=l):(i=p[0],s=p[1],a=p[2],o=p[3],u=c);var d,y,g,m,v,E,C;d=e[0]^t[0],y=e[n?3:1]^t[1],g=e[2]^t[2],m=e[n?1:3]^t[3];for(var S=3,b=1;b<h;++b)v=i[d>>>24]^s[y>>>16&255]^a[g>>>8&255]^o[255&m]^t[++S],E=i[y>>>24]^s[g>>>16&255]^a[m>>>8&255]^o[255&d]^t[++S],C=i[g>>>24]^s[m>>>16&255]^a[d>>>8&255]^o[255&y]^t[++S],m=i[m>>>24]^s[d>>>16&255]^a[y>>>8&255]^o[255&g]^t[++S],d=v,y=E,g=C;r[0]=u[d>>>24]<<24^u[y>>>16&255]<<16^u[g>>>8&255]<<8^u[255&m]^t[++S],r[n?3:1]=u[y>>>24]<<24^u[g>>>16&255]<<16^u[m>>>8&255]<<8^u[255&d]^t[++S],r[2]=u[g>>>24]<<24^u[m>>>16&255]<<16^u[d>>>8&255]<<8^u[255&y]^t[++S],r[n?1:3]=u[m>>>24]<<24^u[d>>>16&255]<<16^u[y>>>8&255]<<8^u[255&g]^t[++S]}function o(t){var e,r="AES-"+((t=t||{}).mode||"CBC").toUpperCase(),n=(e=t.decrypt?u.cipher.createDecipher(r,t.key):u.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var i=null;r instanceof u.util.ByteBuffer&&(i=r,r={}),(r=r||{}).output=i,r.iv=t,n.call(e,r)},e}var u=r(0);r(15),r(25),r(1),t.exports=u.aes=u.aes||{},u.aes.startEncrypting=function(t,e,r,n){var i=o({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i},u.aes.createEncryptionCipher=function(t,e){return o({key:t,output:null,decrypt:!1,mode:e})},u.aes.startDecrypting=function(t,e,r,n){var i=o({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i},u.aes.createDecryptionCipher=function(t,e){return o({key:t,output:null,decrypt:!0,mode:e})},u.aes.Algorithm=function(t,e){d||i();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(t,e){return a(r._w,t,e,!1)},decrypt:function(t,e){return a(r._w,t,e,!0)}}}),r._init=!1},u.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e,r=t.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(u.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){e=r,r=u.util.createBuffer();for(i=0;i<e.length;++i)r.putByte(e[i])}}else r=u.util.createBuffer(r);if(!u.util.isArray(r)){e=r,r=[];var n=e.length();if(16===n||24===n||32===n){n>>>=2;for(var i=0;i<n;++i)r.push(e.getInt32())}}if(!u.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var a=this.mode.name,o=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=s(r,t.decrypt&&!o),this._init=!0}},u.aes._expandKey=function(t,e){return d||i(),s(t,e)},u.aes._updateBlock=a,n("AES-ECB",u.cipher.modes.ecb),n("AES-CBC",u.cipher.modes.cbc),n("AES-CFB",u.cipher.modes.cfb),n("AES-OFB",u.cipher.modes.ofb),n("AES-CTR",u.cipher.modes.ctr),n("AES-GCM",u.cipher.modes.gcm);var c,l,h,p,f,d=!1,y=4},function(t,e,r){function n(t,e,r){var n=h.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var a,o=i-3-t.length;if(0===r||1===r){a=0===r?0:255;for(l=0;l<o;++l)n.putByte(a)}else for(;o>0;){for(var u=0,c=h.random.getBytes(o),l=0;l<o;++l)0===(a=c.charCodeAt(l))?++u:n.putByte(a);o=u}return n.putByte(0),n.putBytes(t),n}function i(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),s=h.util.createBuffer(t),a=s.getByte(),o=s.getByte();if(0!==a||r&&0!==o&&1!==o||!r&&2!=o||r&&0===o&&void 0===n)throw new Error("Encryption block is invalid.");var u=0;if(0===o){u=i-3-n;for(var c=0;c<u;++c)if(0!==s.getByte())throw new Error("Encryption block is invalid.")}else if(1===o)for(u=0;s.length()>1;){if(255!==s.getByte()){--s.read;break}++u}else if(2===o)for(u=0;s.length()>1;){if(0===s.getByte()){--s.read;break}++u}if(0!==s.getByte()||u!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function s(t,e,r){function n(){i(t.pBits,function(e,n){return e?r(e):(t.p=n,null!==t.q?s(e,t.q):void i(t.qBits,s))})}function i(t,e){h.prime.generateProbablePrime(t,a,e)}function s(e,a){if(e)return r(e);if(t.q=a,t.p.compareTo(t.q)<0){var o=t.p;t.p=t.q,t.q=o}if(0!==t.p.subtract(p.ONE).gcd(t.e).compareTo(p.ONE))return t.p=null,void n();if(0!==t.q.subtract(p.ONE).gcd(t.e).compareTo(p.ONE))return t.q=null,void i(t.qBits,s);if(t.p1=t.p.subtract(p.ONE),t.q1=t.q.subtract(p.ONE),t.phi=t.p1.multiply(t.q1),0!==t.phi.gcd(t.e).compareTo(p.ONE))return t.p=t.q=null,void n();if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits)return t.q=null,void i(t.qBits,s);var u=t.e.modInverse(t.phi);t.keys={privateKey:d.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:d.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}"function"==typeof e&&(r=e,e={});var a={algorithm:{name:(e=e||{}).algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(a.prng=e.prng),n()}function a(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=h.util.hexToBytes(e);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function o(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function u(t){return"undefined"!=typeof window&&"object"==typeof window.crypto&&"object"==typeof window.crypto.subtle&&"function"==typeof window.crypto.subtle[t]}function c(t){return"undefined"!=typeof window&&"object"==typeof window.msCrypto&&"object"==typeof window.msCrypto.subtle&&"function"==typeof window.msCrypto.subtle[t]}function l(t){for(var e=h.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}var h=r(0);if(r(7),r(30),r(8),r(78),r(79),r(9),r(1),void 0===p)var p=h.jsbn.BigInteger;var f=h.asn1;h.pki=h.pki||{},t.exports=h.pki.rsa=h.rsa=h.rsa||{};var d=h.pki,y=[6,4,2,4,2,4,6,2],g={name:"PrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},m={name:"RSAPrivateKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},v={name:"RSAPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},E=h.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},C=function(t){var e;if(!(t.algorithm in d.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}e=d.oids[t.algorithm];var n=f.oidToDer(e).getBytes(),i=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),s=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);s.value.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,n)),s.value.push(f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,""));var a=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(s),i.value.push(a),f.toDer(i).getBytes()},S=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(p.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(p.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do{n=new p(h.util.bytesToHex(h.random.getBytes(e.n.bitLength()/8)),16)}while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(p.ONE));for(var i=(t=t.multiply(n.modPow(e.e,e.n)).mod(e.n)).mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(s)<0;)i=i.add(e.p);var a=i.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return a=a.multiply(n.modInverse(e.n)).mod(e.n)};d.rsa.encrypt=function(t,e,r){var i,s=r,a=Math.ceil(e.n.bitLength()/8);!1!==r&&!0!==r?(s=2===r,i=n(t,e,r)):(i=h.util.createBuffer()).putBytes(t);for(var o=new p(i.toHex(),16),u=S(o,e,s).toString(16),c=h.util.createBuffer(),l=a-Math.ceil(u.length/2);l>0;)c.putByte(0),--l;return c.putBytes(h.util.hexToBytes(u)),c.getBytes()},d.rsa.decrypt=function(t,e,r,n){var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=s,a}var o=new p(h.util.createBuffer(t).toHex(),16);if(o.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var u=S(o,e,r).toString(16),c=h.util.createBuffer(),l=s-Math.ceil(u.length/2);l>0;)c.putByte(0),--l;return c.putBytes(h.util.hexToBytes(u)),!1!==n?i(c.getBytes(),e,r):c.getBytes()},d.rsa.createKeyPairGenerationState=function(t,e,r){"string"==typeof t&&(t=parseInt(t,10)),t=t||2048;var n,i=(r=r||{}).prng||h.random,s={nextBytes:function(t){for(var e=i.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}},a=r.algorithm||"PRIMEINC";if("PRIMEINC"!==a)throw new Error("Invalid key generation algorithm: "+a);return(n={algorithm:a,state:0,bits:t,rng:s,eInt:e||65537,e:new p(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null}).e.fromInt(n.eInt),n},d.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new p(null);r.fromInt(30);for(var n,i=0,s=+new Date,a=0;null===t.keys&&(e<=0||a<e);){if(0===t.state){var u=null===t.p?t.pBits:t.qBits,c=u-1;0===t.pqState?(t.num=new p(u,t.rng),t.num.testBit(c)||t.num.bitwiseTo(p.ONE.shiftLeft(c),function(t,e){return t|e},t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),i=0,++t.pqState):1===t.pqState?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(o(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(y[i++%8],0):2===t.pqState?t.pqState=0===t.num.subtract(p.ONE).gcd(t.e).compareTo(p.ONE)?3:0:3===t.pqState&&(t.pqState=0,null===t.p?t.p=t.num:t.q=t.num,null!==t.p&&null!==t.q&&++t.state,t.num=null)}else if(1===t.state)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(2===t.state)t.p1=t.p.subtract(p.ONE),t.q1=t.q.subtract(p.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(3===t.state)0===t.phi.gcd(t.e).compareTo(p.ONE)?++t.state:(t.p=null,t.q=null,t.state=0);else if(4===t.state)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(5===t.state){var l=t.e.modInverse(t.phi);t.keys={privateKey:d.rsa.setPrivateKey(t.n,t.e,l,t.p,t.q,l.mod(t.p1),l.mod(t.q1),t.q.modInverse(t.p)),publicKey:d.rsa.setPublicKey(t.n,t.e)}}a+=(n=+new Date)-s,s=n}return null!==t.keys},d.rsa.generateKeyPair=function(t,e,r,n){if(1===arguments.length?"object"==typeof t?(r=t,t=void 0):"function"==typeof t&&(n=t,t=void 0):2===arguments.length?"number"==typeof t?"function"==typeof e?(n=e,e=void 0):"number"!=typeof e&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):3===arguments.length&&("number"==typeof e?"function"==typeof r&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},void 0===t&&(t=r.bits||2048),void 0===e&&(e=r.e||65537),!h.options.usePureJavaScript&&n&&t>=256&&t<=16384&&(65537===e||3===e)){if(u("generateKey")&&u("exportKey"))return window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:l(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(t){return window.crypto.subtle.exportKey("pkcs8",t.privateKey)}).then(void 0,function(t){n(t)}).then(function(t){if(t){var e=d.privateKeyFromAsn1(f.fromDer(h.util.createBuffer(t)));n(null,{privateKey:e,publicKey:d.setRsaPublicKey(e.n,e.e)})}});if(c("generateKey")&&c("exportKey")){var i=window.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:l(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);return i.oncomplete=function(t){var e=t.target.result,r=window.msCrypto.subtle.exportKey("pkcs8",e.privateKey);r.oncomplete=function(t){var e=t.target.result,r=d.privateKeyFromAsn1(f.fromDer(h.util.createBuffer(e)));n(null,{privateKey:r,publicKey:d.setRsaPublicKey(r.n,r.e)})},r.onerror=function(t){n(t)}},void(i.onerror=function(t){n(t)})}}var a=d.rsa.createKeyPairGenerationState(t,e,r);if(!n)return d.rsa.stepKeyPairGenerationState(a,0),a.keys;s(a,r,n)},d.setRsaPublicKey=d.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(t,e,i){if("string"==typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===e)e={encode:function(t,e,r){return n(t,e,2).getBytes()}};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={encode:function(t,e){return h.pkcs1.encode_rsa_oaep(e,t,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(e))e={encode:function(t){return t}};else if("string"==typeof e)throw new Error('Unsupported encryption scheme: "'+e+'".');var s=e.encode(t,r,!0);return d.rsa.encrypt(s,r,!0)},r.verify=function(t,e,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(t,e){return e=i(e,r,!0),t===f.fromDer(e).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(t,e){return e=i(e,r,!0),t===e}});var s=d.rsa.decrypt(e,r,!0,!1);return n.verify(t,s,r.n.bitLength())},r},d.setRsaPrivateKey=d.rsa.setPrivateKey=function(t,e,r,n,s,a,o,u){var c={n:t,e,d:r,p:n,q:s,dP:a,dQ:o,qInv:u};return c.decrypt=function(t,e,r){"string"==typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5");var n=d.rsa.decrypt(t,c,!1,!1);if("RSAES-PKCS1-V1_5"===e)e={decode:i};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={decode:function(t,e){return h.pkcs1.decode_rsa_oaep(e,t,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(e))throw new Error('Unsupported encryption scheme: "'+e+'".');e={decode:function(t){return t}}}return e.decode(n,c,!1)},c.sign=function(t,e){var r=!1;"string"==typeof e&&(e=e.toUpperCase()),void 0===e||"RSASSA-PKCS1-V1_5"===e?(e={encode:C},r=1):"NONE"!==e&&"NULL"!==e&&null!==e||(e={encode:function(){return t}},r=1);var n=e.encode(t,c.n.bitLength());return d.rsa.encrypt(n,c,r)},c},d.wrapRsaPrivateKey=function(t){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(0).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(d.oids.rsaEncryption).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,f.toDer(t).getBytes())])},d.privateKeyFromAsn1=function(t){var e={},r=[];if(f.validate(t,g,e,r)&&(t=f.fromDer(h.util.createBuffer(e.privateKey))),e={},r=[],!f.validate(t,m,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,a,o,u,c,l,y;return i=h.util.createBuffer(e.privateKeyModulus).toHex(),s=h.util.createBuffer(e.privateKeyPublicExponent).toHex(),a=h.util.createBuffer(e.privateKeyPrivateExponent).toHex(),o=h.util.createBuffer(e.privateKeyPrime1).toHex(),u=h.util.createBuffer(e.privateKeyPrime2).toHex(),c=h.util.createBuffer(e.privateKeyExponent1).toHex(),l=h.util.createBuffer(e.privateKeyExponent2).toHex(),y=h.util.createBuffer(e.privateKeyCoefficient).toHex(),d.setRsaPrivateKey(new p(i,16),new p(s,16),new p(a,16),new p(o,16),new p(u,16),new p(c,16),new p(l,16),new p(y,16))},d.privateKeyToAsn1=d.privateKeyToRSAPrivateKey=function(t){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(0).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,a(t.n)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,a(t.e)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,a(t.d)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,a(t.p)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,a(t.q)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,a(t.dP)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,a(t.dQ)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,a(t.qInv))])},d.publicKeyFromAsn1=function(t){var e={},r=[];if(f.validate(t,E,e,r)){var n=f.derToOid(e.publicKeyOid);if(n!==d.oids.rsaEncryption)throw(i=new Error("Cannot read public key. Unknown OID.")).oid=n,i;t=e.rsaPublicKey}if(r=[],!f.validate(t,v,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=h.util.createBuffer(e.publicKeyModulus).toHex(),a=h.util.createBuffer(e.publicKeyExponent).toHex();return d.setRsaPublicKey(new p(s,16),new p(a,16))},d.publicKeyToAsn1=d.publicKeyToSubjectPublicKeyInfo=function(t){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(d.oids.rsaEncryption).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,[d.publicKeyToRSAPublicKey(t)])])},d.publicKeyToRSAPublicKey=function(t){return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,a(t.n)),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,a(t.e))])}},function(t,e,r){"use strict";(function(e){function n(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var i=r(2),s=r(54),a={"Content-Type":"application/x-www-form-urlencoded"},o={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=r(21):void 0!==e&&(t=r(21)),t}(),transformRequest:[function(t,e){return s(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(n(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(n(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};o.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(t){o.headers[t]={}}),i.forEach(["post","put","patch"],function(t){o.headers[t]=i.merge(a)}),t.exports=o}).call(e,r(4))},function(t,e,r){var n=r(0);r(1),t.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(t,e){var r=t;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})},n.cipher.createDecipher=function(t,e){var r=t;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})},n.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),n.cipher.algorithms[t]=e},n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[t]:null};var i=n.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};i.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=t.output||n.util.createBuffer(),this.mode.start(e)},i.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(t){!t||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(e){return t(this.blockSize,e,!1)},this.mode.unpad=function(e){return t(this.blockSize,e,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))}},function(t,e,r){var n=r(0);r(6),r(1),(t.exports=n.hmac=n.hmac||{}).create=function(){var t=null,e=null,r=null,i=null,s={};return s.start=function(s,a){if(null!==s)if("string"==typeof s){if(!((s=s.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+s+'"');e=n.md.algorithms[s].create()}else e=s;if(null===a)a=t;else{if("string"==typeof a)a=n.util.createBuffer(a);else if(n.util.isArray(a)){u=a;a=n.util.createBuffer();for(c=0;c<u.length;++c)a.putByte(u[c])}var o=a.length();o>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),o=a.length();for(c=0;c<o;++c){u=a.at(c);r.putByte(54^u),i.putByte(92^u)}if(o<e.blockLength)for(var u=e.blockLength-o,c=0;c<u;++c)r.putByte(54),i.putByte(92);t=a,r=r.bytes(),i=i.bytes()}e.start(),e.update(r)},s.update=function(t){e.update(t)},s.getMac=function(){var t=e.digest().bytes();return e.start(),e.update(i),e.update(t),e.digest()},s.digest=s.getMac,s}},function(t,e,r){(function(e){var n=r(0);r(16),r(6),r(1);var i,s=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(i=r(27)),t.exports=n.pbkdf2=s.pbkdf2=function(t,r,s,a,o,u){function c(){if(S>f)return u(null,E);y.start(null,null),y.update(r),y.update(n.util.int32ToBytes(S)),g=v=y.digest().getBytes(),C=2,l()}function l(){if(C<=s)return y.start(null,null),y.update(v),m=y.digest().getBytes(),g=n.util.xorBytes(g,m,h),v=m,++C,n.util.setImmediate(l);E+=S<f?g:g.substr(0,d),++S,c()}if("function"==typeof o&&(u=o,o=null),n.util.isNodejs&&!n.options.usePureJavaScript&&i.pbkdf2&&(null===o||"object"!=typeof o)&&(i.pbkdf2Sync.length>4||!o||"sha1"===o))return"string"!=typeof o&&(o="sha1"),t=new e(t,"binary"),r=new e(r,"binary"),u?4===i.pbkdf2Sync.length?i.pbkdf2(t,r,s,a,function(t,e){if(t)return u(t);u(null,e.toString("binary"))}):i.pbkdf2(t,r,s,a,o,function(t,e){if(t)return u(t);u(null,e.toString("binary"))}):4===i.pbkdf2Sync.length?i.pbkdf2Sync(t,r,s,a).toString("binary"):i.pbkdf2Sync(t,r,s,a,o).toString("binary");if(void 0!==o&&null!==o||(o="sha1"),"string"==typeof o){if(!(o in n.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=n.md[o].create()}var h=o.digestLength;if(a>4294967295*h){var p=new Error("Derived key is too long.");if(u)return u(p);throw p}var f=Math.ceil(a/h),d=a-(f-1)*h,y=n.hmac.create();y.start(o,t);var g,m,v,E="";if(!u){for(S=1;S<=f;++S){y.start(null,null),y.update(r),y.update(n.util.int32ToBytes(S)),g=v=y.digest().getBytes();for(C=2;C<=s;++C)y.start(null,null),y.update(v),m=y.digest().getBytes(),g=n.util.xorBytes(g,m,h),v=m;E+=S<f?g:g.substr(0,d)}return E}var C,S=1;c()}}).call(e,r(26).Buffer)},function(t,e,r){function n(t){for(var e=t.name+": ",r=[],n=0;n<t.values.length;++n)r.push(t.values[n].replace(/^(\S+\r\n)/,function(t,e){return" "+e}));e+=r.join(",")+"\r\n";for(var i=0,s=-1,n=0;n<e.length;++n,++i)if(i>65&&-1!==s){var a=e[s];","===a?(++s,e=e.substr(0,s)+"\r\n "+e.substr(s)):e=e.substr(0,s)+"\r\n"+a+e.substr(s+1),i=n-s-1,s=-1,++n}else" "!==e[n]&&"\t"!==e[n]&&","!==e[n]||(s=n);return e}function i(t){return t.replace(/^\s+/,"")}var s=r(0);r(1);var a=t.exports=s.pem=s.pem||{};a.encode=function(t,e){e=e||{};var r,i="-----BEGIN "+t.type+"-----\r\n";if(t.procType&&(i+=n(r={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]})),t.contentDomain&&(i+=n(r={name:"Content-Domain",values:[t.contentDomain]})),t.dekInfo&&(r={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&r.values.push(t.dekInfo.parameters),i+=n(r)),t.headers)for(var a=0;a<t.headers.length;++a)i+=n(t.headers[a]);return t.procType&&(i+="\r\n"),i+=s.util.encode64(t.body,e.maxline||64)+"\r\n",i+="-----END "+t.type+"-----\r\n"},a.decode=function(t){for(var e,r=[],n=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,a=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/;;){if(!(e=n.exec(t)))break;var u={type:e[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:s.util.decode64(e[3])};if(r.push(u),e[2]){for(var c=e[2].split(o),l=0;e&&l<c.length;){for(var h=c[l].replace(/\s+$/,""),p=l+1;p<c.length;++p){var f=c[p];if(!/\s/.test(f[0]))break;h+=f,l=p}if(e=h.match(a)){for(var d={name:e[1],values:[]},y=e[2].split(","),g=0;g<y.length;++g)d.values.push(i(y[g]));if(u.procType)if(u.contentDomain||"Content-Domain"!==d.name)if(u.dekInfo||"DEK-Info"!==d.name)u.headers.push(d);else{if(0===d.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:y[0],parameters:y[1]||null}}else u.contentDomain=y[0]||"";else{if("Proc-Type"!==d.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==d.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:y[0],type:y[1]}}}++l}if("ENCRYPTED"===u.procType&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(92);n.setLevel("warn"),e.default=n},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";(function(e){var n=r(2),i=r(55),s=r(57),a=r(58),o=r(59),u=r(22),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(60);t.exports=function(t){return new e(function(e,l){var h=t.data,p=t.headers;n.isFormData(h)&&delete p["Content-Type"];var f=new XMLHttpRequest,d="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||o(t.url)||(f=new window.XDomainRequest,d="onload",y=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var g=t.auth.username||"",m=t.auth.password||"";p.Authorization="Basic "+c(g+":"+m)}if(f.open(t.method.toUpperCase(),s(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[d]=function(){if(f&&(4===f.readyState||y)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:r,config:t,request:f};i(e,l,n),f=null}},f.onerror=function(){l(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var v=r(61),E=(t.withCredentials||o(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;E&&(p[t.xsrfHeaderName]=E)}if("setRequestHeader"in f&&n.forEach(p,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete p[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),l(t),f=null)}),void 0===h&&(h=null),f.send(h)})}}).call(e,r(3))},function(t,e,r){"use strict";var n=r(56);t.exports=function(t,e,r,i,s){var a=new Error(t);return n(a,e,r,i,s)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){function n(t){if("string"==typeof t&&(t=a.util.createBuffer(t)),a.util.isArray(t)&&t.length>4){var e=t;t=a.util.createBuffer();for(var r=0;r<e.length;++r)t.putByte(e[r])}return a.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}function i(t){t[t.length-1]=t[t.length-1]+1&4294967295}function s(t){return[t/4294967296|0,4294967295&t]}var a=r(0);r(1),a.cipher=a.cipher||{};var o=t.exports=a.cipher.modes=a.cipher.modes||{};o.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},o.ecb.prototype.start=function(t){},o.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},o.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},o.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},o.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},o.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},o.cbc.prototype.start=function(t){if(null===t.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=n(t.iv),this._prev=this._iv.slice(0)}},o.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock},o.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},o.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},o.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},o.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0},o.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=n(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(s=0;s<this._ints;++s)this._inBlock[s]=t.getInt32()^this._outBlock[s],e.putInt32(this._inBlock[s]);else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(s=0;s<this._ints;++s)this._partialBlock[s]=t.getInt32()^this._outBlock[s],this._partialOutput.putInt32(this._partialBlock[s]);if(i>0)t.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},o.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(s=0;s<this._ints;++s)this._inBlock[s]=t.getInt32(),e.putInt32(this._inBlock[s]^this._outBlock[s]);else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(s=0;s<this._ints;++s)this._partialBlock[s]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[s]^this._outBlock[s]);if(i>0)t.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},o.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0},o.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=n(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===t.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(s=0;s<this._ints;++s)e.putInt32(t.getInt32()^this._outBlock[s]),this._inBlock[s]=this._outBlock[s];else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(s=0;s<this._ints;++s)this._partialOutput.putInt32(t.getInt32()^this._outBlock[s]);if(i>0)t.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._outBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},o.ofb.prototype.decrypt=o.ofb.prototype.encrypt,o.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0},o.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=n(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(a=0;a<this._ints;++a)e.putInt32(t.getInt32()^this._outBlock[a]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var a=0;a<this._ints;++a)this._partialOutput.putInt32(t.getInt32()^this._outBlock[a]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}i(this._inBlock)},o.ctr.prototype.decrypt=o.ctr.prototype.encrypt,o.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=a.util.createBuffer(),this._partialBytes=0,this._R=3774873600},o.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=a.util.createBuffer(t.iv);this._cipherLength=0;var r;if(r="additionalData"in t?a.util.createBuffer(t.additionalData):a.util.createBuffer(),this._tagLength="tagLength"in t?t.tagLength:128,this._tag=null,t.decrypt&&(this._tag=a.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(12===n)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(8*n)))}this._inBlock=this._j0.slice(0),i(this._inBlock),this._partialBytes=0,r=a.util.createBuffer(r),this._aDataLength=s(8*r.length());var o=r.length()%this.blockSize;for(o&&r.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])},o.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(o=0;o<this._ints;++o)e.putInt32(this._outBlock[o]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(o=0;o<this._ints;++o)this._partialOutput.putInt32(t.getInt32()^this._outBlock[o]);if(0===s||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var o=0;o<this._ints;++o)this._outBlock[o]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),i(this._inBlock)},o.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),i(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var s=0;s<this._ints;++s)e.putInt32(this._outBlock[s]^this._hashBlock[s]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},o.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=a.util.createBuffer();var n=this._aDataLength.concat(s(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},o.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i)t[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n);return r},o.gcm.prototype.pow=function(t,e){for(var r=1&t[3],n=3;n>0;--n)e[n]=t[n]>>>1|(1&t[n-1])<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)},o.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=t[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];e[0]^=i[0],e[1]^=i[1],e[2]^=i[2],e[3]^=i[3]}return e},o.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)},o.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var o=[0,0,0,0],u=(n-1-a%n)*e;o[a/n|0]=1<<e-1<<u,s[a]=this.generateSubHashTable(this.multiply(o,t),e)}return s},o.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var o=i[s],u=i[a];i[s+a]=[o[0]^u[0],o[1]^u[1],o[2]^u[2],o[3]^u[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var c=i[s^n];i[s]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i}},function(t,e,r){"use strict";(function(t){function n(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return a(this,t,e,r)}function a(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,r,n):"string"==typeof e?l(t,e,r):f(t,e)}function o(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,r,n){return o(e),e<=0?i(t,e):void 0!==r?"string"==typeof n?i(t,e).fill(r,n):i(t,e).fill(r):i(t,e)}function c(t,e){if(o(e),t=i(t,e<0?0:0|d(e)),!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!s.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|y(e,r),a=(t=i(t,n)).write(e,r);return a!==n&&(t=t.slice(0,a)),t}function h(t,e){var r=e.length<0?0:0|d(e.length);t=i(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=h(t,e),t}function f(t,e){if(s.isBuffer(e)){var r=0|d(e.length);return 0===(t=i(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||H(e.length)?i(t,0):h(t,e);if("Buffer"===e.type&&W(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function y(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(t).length;default:if(n)return F(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,r);case"utf8":case"utf-8":return B(this,e,r);case"ascii":return _(this,e,r);case"latin1":case"binary":return N(this,e,r);case"base64":return w(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:E(t,e,r,n,i);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):E(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function E(t,e,r,n,i){function s(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,o=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,o/=2,u/=2,r/=2}var c;if(i){var l=-1;for(c=r;c<o;c++)if(s(t,c)===s(e,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===u)return l*a}else-1!==l&&(c-=c-l),l=-1}else for(r+u>o&&(r=o-u),c=r;c>=0;c--){for(var h=!0,p=0;p<u;p++)if(s(t,c+p)!==s(e,p)){h=!1;break}if(h)return c}return-1}function C(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var a=0;a<n;++a){var o=parseInt(e.substr(2*a,2),16);if(isNaN(o))return a;t[r+a]=o}return a}function S(t,e,r,n){return Q(F(e,t.length-r),t,r,n)}function b(t,e,r,n){return Q(G(e),t,r,n)}function T(t,e,r,n){return b(t,e,r,n)}function A(t,e,r,n){return Q(z(e),t,r,n)}function I(t,e,r,n){return Q($(e,t.length-r),t,r,n)}function w(t,e,r){return 0===e&&r===t.length?Y.fromByteArray(t):Y.fromByteArray(t.slice(e,r))}function B(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s=t[i],a=null,o=s>239?4:s>223?3:s>191?2:1;if(i+o<=r){var u,c,l,h;switch(o){case 1:s<128&&(a=s);break;case 2:128==(192&(u=t[i+1]))&&(h=(31&s)<<6|63&u)>127&&(a=h);break;case 3:u=t[i+1],c=t[i+2],128==(192&u)&&128==(192&c)&&(h=(15&s)<<12|(63&u)<<6|63&c)>2047&&(h<55296||h>57343)&&(a=h);break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128==(192&u)&&128==(192&c)&&128==(192&l)&&(h=(15&s)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&h<1114112&&(a=h)}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=o}return R(n)}function R(t){var e=t.length;if(e<=J)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=J));return r}function _(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function N(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function L(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=M(t[s]);return i}function U(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,r,n,i,a){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function O(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-r,2);i<s;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-r,4);i<s;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function x(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(t,e,r,n,i){return i||x(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(t,e,r,n,23,4),r+4}function K(t,e,r,n,i){return i||x(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(t,e,r,n,52,8),r+8}function q(t){if((t=j(t).replace(Z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function j(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function M(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function G(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function $(t,e){for(var r,n,i,s=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,i=r%256,s.push(i),s.push(n);return s}function z(t){return Y.toByteArray(q(t))}function Q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function H(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var Y=r(71),X=r(72),W=r(73);e.Buffer=s,e.SlowBuffer=function(t){return+t!=t&&(t=0),s.alloc(+t)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=n(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,r){return a(null,t,e,r)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,r){return u(null,t,e,r)},s.allocUnsafe=function(t){return c(null,t)},s.allocUnsafeSlow=function(t){return c(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!W(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=s.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?B(this,0,t):g.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,r,n,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var a=i-n,o=r-e,u=Math.min(a,o),c=this.slice(n,i),l=t.slice(e,r),h=0;h<u;++h)if(c[h]!==l[h]){a=c[h],o=l[h];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},s.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return C(this,t,e,r);case"utf8":case"utf-8":return S(this,t,e,r);case"ascii":return b(this,t,e,r);case"latin1":case"binary":return T(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;s.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n;if(s.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=s.prototype;else{var i=e-t;n=new s(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},s.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||P(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},s.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||P(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},s.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||P(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||P(t,e,this.length);for(var n=e,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},s.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),X.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),X.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),X.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),X.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||k(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},s.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||k(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},s.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);k(this,t,e,r,i-1,-i)}var s=0,a=1,o=0;for(this[e]=255&t;++s<r&&(a*=256);)t<0&&0===o&&0!==this[e+s-1]&&(o=1),this[e+s]=(t/a>>0)-o&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);k(this,t,e,r,i-1,-i)}var s=r-1,a=1,o=0;for(this[e+s]=255&t;--s>=0&&(a*=256);)t<0&&0===o&&0!==this[e+s+1]&&(o=1),this[e+s]=(t/a>>0)-o&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,r){return V(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return V(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return K(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return K(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&r<e&&e<n)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},s.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var o=s.isBuffer(t)?t:F(new s(t,n).toString()),u=o.length;for(a=0;a<r-e;++a)this[a+e]=o[a%u]}return this};var Z=/[^+\/0-9A-Za-z-_]/g}).call(e,r(10))},function(t,e){},function(t,e,r){function n(t,e){return t.start().update(e).digest().getBytes()}function i(t){var e;if(t){if(!(e=l.oids[c.derToOid(t)])){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else e="hmacWithSHA1";return s(e)}function s(t){var e=o.md;switch(t){case"hmacWithSHA224":e=o.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!(e&&t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function a(t,e,r,n){var i=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,t),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,e.getBytes())]);return"hmacWithSHA1"!==n&&i.value.push(c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,o.util.hexToBytes(r.toString(16))),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids[n]).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])),i}var o=r(0);if(r(12),r(7),r(29),r(6),r(8),r(17),r(18),r(9),r(77),r(13),r(1),void 0===u)var u=o.jsbn.BigInteger;var c=o.asn1,l=o.pki=o.pki||{};t.exports=l.pbe=o.pbe=o.pbe||{};var h=l.oids,p={name:"EncryptedPrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},f={name:"PBES2Algorithms",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},d={name:"pkcs-12PbeParams",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"iterations"}]};l.encryptPrivateKeyInfo=function(t,e,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n,i,u,p=o.random.getBytesSync(r.saltSize),f=r.count,d=c.integerToDer(f);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var y,g,m;switch(r.algorithm){case"aes128":n=16,y=16,g=h["aes128-CBC"],m=o.aes.createEncryptionCipher;break;case"aes192":n=24,y=16,g=h["aes192-CBC"],m=o.aes.createEncryptionCipher;break;case"aes256":n=32,y=16,g=h["aes256-CBC"],m=o.aes.createEncryptionCipher;break;case"des":n=8,y=8,g=h.desCBC,m=o.des.createEncryptionCipher;break;default:throw(T=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,T}var v="hmacWith"+r.prfAlgorithm.toUpperCase(),E=s(v),C=o.pkcs5.pbkdf2(e,p,f,n,E),S=o.random.getBytesSync(y);(I=m(C)).start(S),I.update(c.toDer(t)),I.finish(),u=I.output.getBytes();var b=a(p,d,n,v);i=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(h.pkcs5PBES2).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(h.pkcs5PBKDF2).getBytes()),b]),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(g).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,S)])])])}else{if("3des"!==r.algorithm){var T=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw T.algorithm=r.algorithm,T}n=24;var A=new o.util.ByteBuffer(p),C=l.pbe.generatePkcs12Key(e,A,1,f,n),S=l.pbe.generatePkcs12Key(e,A,2,f,n),I=o.des.createEncryptionCipher(C);I.start(S),I.update(c.toDer(t)),I.finish(),u=I.output.getBytes(),i=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(h["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,p),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,d.getBytes())])])}return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[i,c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,u)])},l.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!c.validate(t,p,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=c.derToOid(n.encryptionOid),u=l.pbe.getCipher(a,n.encryptionParams,e),h=o.util.createBuffer(n.encryptedData);return u.update(h),u.finish()&&(r=c.fromDer(u.output)),r},l.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:c.toDer(t).getBytes()};return o.pem.encode(r,{maxline:e})},l.encryptedPrivateKeyFromPem=function(t){var e=o.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==e.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return c.fromDer(e.body)},l.encryptRsaPrivateKey=function(t,e,r){if(!(r=r||{}).legacy){var n=l.wrapRsaPrivateKey(l.privateKeyToAsn1(t));return n=l.encryptPrivateKeyInfo(n,e,r),l.encryptedPrivateKeyToPem(n)}var i,s,a,u;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,s=o.random.getBytesSync(16),u=o.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,s=o.random.getBytesSync(16),u=o.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,s=o.random.getBytesSync(16),u=o.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,s=o.random.getBytesSync(8),u=o.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,s=o.random.getBytesSync(8),u=o.des.createEncryptionCipher;break;default:var h=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw h.algorithm=r.algorithm,h}var p=u(o.pbe.opensslDeriveBytes(e,s.substr(0,8),a));p.start(s),p.update(c.toDer(l.privateKeyToAsn1(t))),p.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:o.util.bytesToHex(s).toUpperCase()},body:p.output.getBytes()};return o.pem.encode(f)},l.decryptRsaPrivateKey=function(t,e){var r=null,n=o.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==n.type&&"PRIVATE KEY"!==n.type&&"RSA PRIVATE KEY"!==n.type)throw(a=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=a,a;if(n.procType&&"ENCRYPTED"===n.procType.type){var i,s;switch(n.dekInfo.algorithm){case"DES-CBC":i=8,s=o.des.createDecryptionCipher;break;case"DES-EDE3-CBC":i=24,s=o.des.createDecryptionCipher;break;case"AES-128-CBC":i=16,s=o.aes.createDecryptionCipher;break;case"AES-192-CBC":i=24,s=o.aes.createDecryptionCipher;break;case"AES-256-CBC":i=32,s=o.aes.createDecryptionCipher;break;case"RC2-40-CBC":i=5,s=function(t){return o.rc2.createDecryptionCipher(t,40)};break;case"RC2-64-CBC":i=8,s=function(t){return o.rc2.createDecryptionCipher(t,64)};break;case"RC2-128-CBC":i=16,s=function(t){return o.rc2.createDecryptionCipher(t,128)};break;default:var a=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw a.algorithm=n.dekInfo.algorithm,a}var u=o.util.hexToBytes(n.dekInfo.parameters),h=s(o.pbe.opensslDeriveBytes(e,u.substr(0,8),i));if(h.start(u),h.update(o.util.createBuffer(n.body)),!h.finish())return r;r=h.output.getBytes()}else r=n.body;return null!==(r="ENCRYPTED PRIVATE KEY"===n.type?l.decryptPrivateKeyInfo(c.fromDer(r),e):c.fromDer(r))&&(r=l.privateKeyFromAsn1(r)),r},l.pbe.generatePkcs12Key=function(t,e,r,n,i,s){var a,u;if(void 0===s||null===s){if(!("sha1"in o.md))throw new Error('"sha1" hash algorithm unavailable.');s=o.md.sha1.create()}var c=s.digestLength,l=s.blockLength,h=new o.util.ByteBuffer,p=new o.util.ByteBuffer;if(null!==t&&void 0!==t){for(u=0;u<t.length;u++)p.putInt16(t.charCodeAt(u));p.putInt16(0)}var f=p.length(),d=e.length(),y=new o.util.ByteBuffer;y.fillWithByte(r,l);var g=l*Math.ceil(d/l),m=new o.util.ByteBuffer;for(u=0;u<g;u++)m.putByte(e.at(u%d));var v=l*Math.ceil(f/l),E=new o.util.ByteBuffer;for(u=0;u<v;u++)E.putByte(p.at(u%f));var C=m;C.putBuffer(E);for(var S=Math.ceil(i/c),b=1;b<=S;b++){var T=new o.util.ByteBuffer;T.putBytes(y.bytes()),T.putBytes(C.bytes());for(var A=0;A<n;A++)s.start(),s.update(T.getBytes()),T=s.digest();var I=new o.util.ByteBuffer;for(u=0;u<l;u++)I.putByte(T.at(u%c));var w=Math.ceil(d/l)+Math.ceil(f/l),B=new o.util.ByteBuffer;for(a=0;a<w;a++){var R=new o.util.ByteBuffer(C.getBytes(l)),_=511;for(u=I.length()-1;u>=0;u--)_>>=8,_+=I.at(u)+R.at(u),R.setAt(u,255&_);B.putBuffer(R)}C=B,h.putBuffer(T)}return h.truncate(h.length()-i),h},l.pbe.getCipher=function(t,e,r){switch(t){case l.oids.pkcs5PBES2:return l.pbe.getCipherForPBES2(t,e,r);case l.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case l.oids["pbewithSHAAnd40BitRC2-CBC"]:return l.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},l.pbe.getCipherForPBES2=function(t,e,r){var n={},s=[];if(!c.validate(e,f,n,s))throw(a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,a;if((t=c.derToOid(n.kdfOid))!==l.oids.pkcs5PBKDF2)throw(a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=t,a.supportedOids=["pkcs5PBKDF2"],a;if((t=c.derToOid(n.encOid))!==l.oids["aes128-CBC"]&&t!==l.oids["aes192-CBC"]&&t!==l.oids["aes256-CBC"]&&t!==l.oids["des-EDE3-CBC"]&&t!==l.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=t,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var u=n.kdfSalt,h=o.util.createBuffer(n.kdfIterationCount);h=h.getInt(h.length()<<3);var p,d;switch(l.oids[t]){case"aes128-CBC":p=16,d=o.aes.createDecryptionCipher;break;case"aes192-CBC":p=24,d=o.aes.createDecryptionCipher;break;case"aes256-CBC":p=32,d=o.aes.createDecryptionCipher;break;case"des-EDE3-CBC":p=24,d=o.des.createDecryptionCipher;break;case"desCBC":p=8,d=o.des.createDecryptionCipher}var y=i(n.prfOid),g=o.pkcs5.pbkdf2(r,u,h,p,y),m=n.encIv,v=d(g);return v.start(m),v},l.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},s=[];if(!c.validate(e,d,n,s))throw(y=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,y;var a=o.util.createBuffer(n.salt),u=o.util.createBuffer(n.iterations);u=u.getInt(u.length()<<3);var h,p,f;switch(t){case l.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:h=24,p=8,f=o.des.startDecrypting;break;case l.oids["pbewithSHAAnd40BitRC2-CBC"]:h=5,p=8,f=function(t,e){var r=o.rc2.createDecryptionCipher(t,40);return r.start(e,null),r};break;default:var y=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw y.oid=t,y}var g=i(n.prfOid),m=l.pbe.generatePkcs12Key(r,a,1,u,h,g);return g.start(),f(m,l.pbe.generatePkcs12Key(r,a,2,u,p,g))},l.pbe.opensslDeriveBytes=function(t,e,r,i){if(void 0===i||null===i){if(!("md5"in o.md))throw new Error('"md5" hash algorithm unavailable.');i=o.md.md5.create()}null===e&&(e="");for(var s=[n(i,t+e)],a=16,u=1;a<r;++u,a+=16)s.push(n(i,s[u-1]+t+e));return s.join("").substr(0,r)}},function(t,e,r){function n(t,e){o.cipher.registerAlgorithm(t,function(){return new o.des.Algorithm(t,e)})}function i(t){for(var e,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],p=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=t.length()>8?3:1,m=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],E=0,C=0;C<g;C++){var S=t.getInt32(),b=t.getInt32();S^=(e=252645135&(S>>>4^b))<<4,S^=e=65535&((b^=e)>>>-16^S),S^=(e=858993459&(S>>>2^(b^=e<<-16)))<<2,S^=e=65535&((b^=e)>>>-16^S),S^=(e=1431655765&(S>>>1^(b^=e<<-16)))<<1,S^=e=16711935&((b^=e)>>>8^S),e=(S^=(e=1431655765&(S>>>1^(b^=e<<8)))<<1)<<8|(b^=e)>>>20&240,S=b<<24|b<<8&16711680|b>>>8&65280|b>>>24&240,b=e;for(var T=0;T<v.length;++T){v[T]?(S=S<<2|S>>>26,b=b<<2|b>>>26):(S=S<<1|S>>>27,b=b<<1|b>>>27),b&=-15;var A=r[(S&=-15)>>>28]|n[S>>>24&15]|i[S>>>20&15]|s[S>>>16&15]|a[S>>>12&15]|o[S>>>8&15]|u[S>>>4&15],I=c[b>>>28]|l[b>>>24&15]|h[b>>>20&15]|p[b>>>16&15]|f[b>>>12&15]|d[b>>>8&15]|y[b>>>4&15];e=65535&(I>>>16^A),m[E++]=A^e,m[E++]=I^e<<16}}return m}function s(t,e,r,n){var i,s=32===t.length?3:9;i=3===s?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,o=e[0],g=e[1];o^=(a=252645135&(o>>>4^g))<<4,o^=(a=65535&(o>>>16^(g^=a)))<<16,o^=a=858993459&((g^=a)>>>2^o),o^=a=16711935&((g^=a<<2)>>>8^o),o=(o^=(a=1431655765&(o>>>1^(g^=a<<8)))<<1)<<1|o>>>31,g=(g^=a)<<1|g>>>31;for(var m=0;m<s;m+=3){for(var v=i[m+1],E=i[m+2],C=i[m];C!=v;C+=E){var S=g^t[C],b=(g>>>4|g<<28)^t[C+1];a=o,o=g,g=a^(c[S>>>24&63]|h[S>>>16&63]|f[S>>>8&63]|y[63&S]|u[b>>>24&63]|l[b>>>16&63]|p[b>>>8&63]|d[63&b])}a=o,o=g,g=a}g=g>>>1|g<<31,g^=a=1431655765&((o=o>>>1|o<<31)>>>1^g),g^=(a=16711935&(g>>>8^(o^=a<<1)))<<8,g^=(a=858993459&(g>>>2^(o^=a)))<<2,g^=a=65535&((o^=a)>>>16^g),g^=a=252645135&((o^=a<<16)>>>4^g),o^=a<<4,r[0]=o,r[1]=g}function a(t){var e,r="DES-"+((t=t||{}).mode||"CBC").toUpperCase(),n=(e=t.decrypt?o.cipher.createDecipher(r,t.key):o.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var i=null;r instanceof o.util.ByteBuffer&&(i=r,r={}),(r=r||{}).output=i,r.iv=t,n.call(e,r)},e}var o=r(0);r(15),r(25),r(1),t.exports=o.des=o.des||{},o.des.startEncrypting=function(t,e,r,n){var i=a({key:t,output:r,decrypt:!1,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},o.des.createEncryptionCipher=function(t,e){return a({key:t,output:null,decrypt:!1,mode:e})},o.des.startDecrypting=function(t,e,r,n){var i=a({key:t,output:r,decrypt:!0,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},o.des.createDecryptionCipher=function(t,e){return a({key:t,output:null,decrypt:!0,mode:e})},o.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(t,e){return s(r._keys,t,e,!1)},decrypt:function(t,e){return s(r._keys,t,e,!0)}}}),r._init=!1},o.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=o.util.createBuffer(t.key);if(0===this.name.indexOf("3DES")&&24!==e.length())throw new Error("Invalid Triple-DES key size: "+8*e.length());this._keys=i(e),this._init=!0}},n("DES-ECB",o.cipher.modes.ecb),n("DES-CBC",o.cipher.modes.cbc),n("DES-CFB",o.cipher.modes.cfb),n("DES-OFB",o.cipher.modes.ofb),n("DES-CTR",o.cipher.modes.ctr),n("3DES-ECB",o.cipher.modes.ecb),n("3DES-CBC",o.cipher.modes.cbc),n("3DES-CFB",o.cipher.modes.cfb),n("3DES-OFB",o.cipher.modes.ofb),n("3DES-CTR",o.cipher.modes.ctr);var u=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],c=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],l=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],h=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],p=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],y=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696]},function(t,e,r){function n(t,e,r){this.data=[],null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function i(){return new n(null)}function s(t,e,r,n,i,s){for(var a=16383&e,o=e>>14;--s>=0;){var u=16383&this.data[t],c=this.data[t++]>>14,l=o*u+c*a;i=((u=a*u+((16383&l)<<14)+r.data[n]+i)>>28)+(l>>14)+o*c,r.data[n++]=268435455&u}return i}function a(t){return w.charAt(t)}function o(t,e){var r=B[t.charCodeAt(e)];return null==r?-1:r}function u(t){var e=i();return e.fromInt(t),e}function c(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function l(t){this.m=t}function h(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function p(t,e){return t&e}function f(t,e){return t|e}function d(t,e){return t^e}function y(t,e){return t&~e}function g(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function m(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function v(){}function E(t){return t}function C(t){this.r2=i(),this.q3=i(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function S(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(256*Math.random())}}}var b=r(0);t.exports=b.jsbn=b.jsbn||{};var T;b.jsbn.BigInteger=n,"undefined"==typeof navigator?(n.prototype.am=s,T=28):"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(t,e,r,n,i,s){for(var a=32767&e,o=e>>15;--s>=0;){var u=32767&this.data[t],c=this.data[t++]>>15,l=o*u+c*a;i=((u=a*u+((32767&l)<<15)+r.data[n]+(1073741823&i))>>>30)+(l>>>15)+o*c+(i>>>30),r.data[n++]=1073741823&u}return i},T=30):"Netscape"!=navigator.appName?(n.prototype.am=function(t,e,r,n,i,s){for(;--s>=0;){var a=e*this.data[t++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=67108863&a}return i},T=26):(n.prototype.am=s,T=28),n.prototype.DB=T,n.prototype.DM=(1<<T)-1,n.prototype.DV=1<<T;n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-T,n.prototype.F2=2*T-52;var A,I,w="0123456789abcdefghijklmnopqrstuvwxyz",B=new Array;for(A="0".charCodeAt(0),I=0;I<=9;++I)B[A++]=I;for(A="a".charCodeAt(0),I=10;I<36;++I)B[A++]=I;for(A="A".charCodeAt(0),I=10;I<36;++I)B[A++]=I;l.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},l.prototype.revert=function(t){return t},l.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},l.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},l.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},h.prototype.convert=function(t){var e=i();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e},h.prototype.revert=function(t){var e=i();return t.copyTo(e),this.reduce(e),e},h.prototype.reduce=function(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t.data[e],n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},h.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},h.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},n.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s},n.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0},n.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var i=t.length,s=!1,a=0;--i>=0;){var u=8==r?255&t[i]:o(t,i);u<0?"-"==t.charAt(i)&&(s=!0):(s=!1,0==a?this.data[this.t++]=u:a+r>this.DB?(this.data[this.t-1]|=(u&(1<<this.DB-a)-1)<<a,this.data[this.t++]=u>>this.DB-a):this.data[this.t-1]|=u<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),s&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t},n.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s},n.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s},n.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,s=(1<<i)-1,a=Math.floor(t/this.DB),o=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e.data[r+a+1]=this.data[r]>>i|o,o=(this.data[r]&s)<<n;for(r=a-1;r>=0;--r)e.data[r]=0;e.data[a]=o,e.t=this.t+a+1,e.s=this.s,e.clamp()},n.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&s)<<i,e.data[a-r]=this.data[a]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}},n.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()},n.prototype.multiplyTo=function(t,e){var r=this.abs(),i=t.abs(),s=r.t;for(e.t=s+i.t;--s>=0;)e.data[s]=0;for(s=0;s<i.t;++s)e.data[s+r.t]=r.am(0,i.data[s],e,s,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)},n.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()},n.prototype.divRemTo=function(t,e,r){var s=t.abs();if(!(s.t<=0)){var a=this.abs();if(a.t<s.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=i());var o=i(),u=this.s,l=t.s,h=this.DB-c(s.data[s.t-1]);h>0?(s.lShiftTo(h,o),a.lShiftTo(h,r)):(s.copyTo(o),a.copyTo(r));var p=o.t,f=o.data[p-1];if(0!=f){var d=f*(1<<this.F1)+(p>1?o.data[p-2]>>this.F2:0),y=this.FV/d,g=(1<<this.F1)/d,m=1<<this.F2,v=r.t,E=v-p,C=null==e?i():e;for(o.dlShiftTo(E,C),r.compareTo(C)>=0&&(r.data[r.t++]=1,r.subTo(C,r)),n.ONE.dlShiftTo(p,C),C.subTo(o,o);o.t<p;)o.data[o.t++]=0;for(;--E>=0;){var S=r.data[--v]==f?this.DM:Math.floor(r.data[v]*y+(r.data[v-1]+m)*g);if((r.data[v]+=o.am(0,S,r,E,0,p))<S)for(o.dlShiftTo(E,C),r.subTo(C,r);r.data[v]<--S;)r.subTo(C,r)}null!=e&&(r.drShiftTo(p,e),u!=l&&n.ZERO.subTo(e,e)),r.t=p,r.clamp(),h>0&&r.rShiftTo(h,r),u<0&&n.ZERO.subTo(r,r)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var t=this.data[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,(e=e*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},n.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},n.prototype.exp=function(t,e){if(t>4294967295||t<1)return n.ONE;var r=i(),s=i(),a=e.convert(this),o=c(t)-1;for(a.copyTo(r);--o>=0;)if(e.sqrTo(r,s),(t&1<<o)>0)e.mulTo(s,a,r);else{var u=r;r=s,s=u}return e.revert(r)},n.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,s="",o=this.t,u=this.DB-o*this.DB%e;if(o-- >0)for(u<this.DB&&(r=this.data[o]>>u)>0&&(i=!0,s=a(r));o>=0;)u<e?(r=(this.data[o]&(1<<u)-1)<<e-u,r|=this.data[--o]>>(u+=this.DB-e)):(r=this.data[o]>>(u-=e)&n,u<=0&&(u+=this.DB,--o)),r>0&&(i=!0),i&&(s+=a(r));return i?s:"0"},n.prototype.negate=function(){var t=i();return n.ZERO.subTo(this,t),t},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this.data[r]-t.data[r]))return e;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+c(this.data[this.t-1]^this.s&this.DM)},n.prototype.mod=function(t){var e=i();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e},n.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new l(e):new h(e),this.exp(t,r)},n.ZERO=u(0),n.ONE=u(1),v.prototype.convert=E,v.prototype.revert=E,v.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},v.prototype.sqrTo=function(t,e){t.squareTo(e)},C.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=i();return t.copyTo(e),this.reduce(e),e},C.prototype.revert=function(t){return t},C.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},C.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},C.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var R=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],_=(1<<26)/R[R.length-1];n.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},n.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=u(r),s=i(),a=i(),o="";for(this.divRemTo(n,s,a);s.signum()>0;)o=(r+a.intValue()).toString(t).substr(1)+o,s.divRemTo(n,s,a);return a.intValue().toString(t)+o},n.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),s=!1,a=0,u=0,c=0;c<t.length;++c){var l=o(t,c);l<0?"-"==t.charAt(c)&&0==this.signum()&&(s=!0):(u=e*u+l,++a>=r&&(this.dMultiply(i),this.dAddOffset(u,0),a=0,u=0))}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(u,0)),s&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),f,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var i=new Array,s=7&t;i.length=1+(t>>3),e.nextBytes(i),s>0?i[0]&=(1<<s)-1:i[0]=0,this.fromString(i,256)}},n.prototype.bitwiseTo=function(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},n.prototype.changeBit=function(t,e){var r=n.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},n.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()},n.prototype.dMultiply=function(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}},n.prototype.multiplyLowerTo=function(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()},n.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},n.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r},n.prototype.millerRabin=function(t){var e=this.subtract(n.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var i,s=e.shiftRight(r),a=S(),o=0;o<t;++o){do{i=new n(this.bitLength(),a)}while(i.compareTo(n.ONE)<=0||i.compareTo(e)>=0);var u=i.modPow(s,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<r&&0!=u.compareTo(e);)if(0==(u=u.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0},n.prototype.clone=function(){var t=i();return this.copyTo(t),t},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},n.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this.data[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this.data[t]&(1<<n)-1)<<8-n,r|=this.data[--t]>>(n+=this.DB-8)):(r=this.data[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},n.prototype.equals=function(t){return 0==this.compareTo(t)},n.prototype.min=function(t){return this.compareTo(t)<0?this:t},n.prototype.max=function(t){return this.compareTo(t)>0?this:t},n.prototype.and=function(t){var e=i();return this.bitwiseTo(t,p,e),e},n.prototype.or=function(t){var e=i();return this.bitwiseTo(t,f,e),e},n.prototype.xor=function(t){var e=i();return this.bitwiseTo(t,d,e),e},n.prototype.andNot=function(t){var e=i();return this.bitwiseTo(t,y,e),e},n.prototype.not=function(){for(var t=i(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t},n.prototype.shiftLeft=function(t){var e=i();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},n.prototype.shiftRight=function(t){var e=i();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},n.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this.data[t])return t*this.DB+g(this.data[t]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=m(this.data[r]^e);return t},n.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this.data[e]&1<<t%this.DB)},n.prototype.setBit=function(t){return this.changeBit(t,f)},n.prototype.clearBit=function(t){return this.changeBit(t,y)},n.prototype.flipBit=function(t){return this.changeBit(t,d)},n.prototype.add=function(t){var e=i();return this.addTo(t,e),e},n.prototype.subtract=function(t){var e=i();return this.subTo(t,e),e},n.prototype.multiply=function(t){var e=i();return this.multiplyTo(t,e),e},n.prototype.divide=function(t){var e=i();return this.divRemTo(t,e,null),e},n.prototype.remainder=function(t){var e=i();return this.divRemTo(t,null,e),e},n.prototype.divideAndRemainder=function(t){var e=i(),r=i();return this.divRemTo(t,e,r),new Array(e,r)},n.prototype.modPow=function(t,e){var r,n,s=t.bitLength(),a=u(1);if(s<=0)return a;r=s<18?1:s<48?3:s<144?4:s<768?5:6,n=s<8?new l(e):e.isEven()?new C(e):new h(e);var o=new Array,p=3,f=r-1,d=(1<<r)-1;if(o[1]=n.convert(this),r>1){var y=i();for(n.sqrTo(o[1],y);p<=d;)o[p]=i(),n.mulTo(y,o[p-2],o[p]),p+=2}var g,m,v=t.t-1,E=!0,S=i();for(s=c(t.data[v])-1;v>=0;){for(s>=f?g=t.data[v]>>s-f&d:(g=(t.data[v]&(1<<s+1)-1)<<f-s,v>0&&(g|=t.data[v-1]>>this.DB+s-f)),p=r;0==(1&g);)g>>=1,--p;if((s-=p)<0&&(s+=this.DB,--v),E)o[g].copyTo(a),E=!1;else{for(;p>1;)n.sqrTo(a,S),n.sqrTo(S,a),p-=2;p>0?n.sqrTo(a,S):(m=a,a=S,S=m),n.mulTo(S,o[g],a)}for(;v>=0&&0==(t.data[v]&1<<s);)n.sqrTo(a,S),m=a,a=S,S=m,--s<0&&(s=this.DB-1,--v)}return n.revert(a)},n.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var r=t.clone(),i=this.clone(),s=u(1),a=u(0),o=u(0),c=u(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),e?(o.isEven()&&c.isEven()||(o.addTo(this,o),c.subTo(t,c)),o.rShiftTo(1,o)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);r.compareTo(i)>=0?(r.subTo(i,r),e&&s.subTo(o,s),a.subTo(c,a)):(i.subTo(r,i),e&&o.subTo(s,o),c.subTo(a,c))}return 0!=i.compareTo(n.ONE)?n.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c},n.prototype.pow=function(t){return this.exp(t,new v)},n.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},n.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r.data[0]<=R[R.length-1]){for(e=0;e<R.length;++e)if(r.data[0]==R[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<R.length;){for(var n=R[e],i=e+1;i<R.length&&n<_;)n*=R[i++];for(n=r.modInt(n);e<i;)if(n%R[e++]==0)return!1}return r.millerRabin(t)}},function(t,e,r){function n(){o=String.fromCharCode(128),o+=s.util.fillString(String.fromCharCode(0),64),u=!0}function i(t,e,r){for(var n,i,s,a,o,u,c,l=r.length();l>=64;){for(i=t.h0,s=t.h1,a=t.h2,o=t.h3,u=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,n=(i<<5|i>>>27)+(o^s&(a^o))+u+1518500249+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<20;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(o^s&(a^o))+u+1518500249+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<32;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(s^a^o)+u+1859775393+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<40;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(s^a^o)+u+1859775393+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<60;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(s&a|o&(s^a))+u+2400959708+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;c<80;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(s^a^o)+u+3395469782+n,u=o,o=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+s|0,t.h2=t.h2+a|0,t.h3=t.h3+o|0,t.h4=t.h4+u|0,l-=64}}var s=r(0);r(6),r(1);var a=t.exports=s.sha1=s.sha1||{};s.md.sha1=s.md.algorithms.sha1=a,a.create=function(){u||n();var t=null,e=s.util.createBuffer(),r=new Array(80),a={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var r=a.messageLengthSize/4,n=0;n<r;++n)a.fullMessageLength.push(0);return e=s.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},a},a.start(),a.update=function(n,o){"utf8"===o&&(n=s.util.encodeUtf8(n));var u=n.length;a.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=a.fullMessageLength.length-1;c>=0;--c)a.fullMessageLength[c]+=u[1],u[1]=u[0]+(a.fullMessageLength[c]/4294967296>>>0),a.fullMessageLength[c]=a.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return e.putBytes(n),i(t,r,e),(e.read>2048||0===e.length())&&e.compact(),a},a.digest=function(){var n=s.util.createBuffer();n.putBytes(e.bytes());var u=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;n.putBytes(o.substr(0,a.blockLength-u));for(var c,l=8*a.fullMessageLength[0],h=0;h<a.fullMessageLength.length-1;++h)l+=(c=8*a.fullMessageLength[h+1])/4294967296>>>0,n.putInt32(l>>>0),l=c>>>0;n.putInt32(l);var p={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};i(p,r,n);var f=s.util.createBuffer();return f.putInt32(p.h0),f.putInt32(p.h1),f.putInt32(p.h2),f.putInt32(p.h3),f.putInt32(p.h4),f},a};var o=null,u=!1},function(t,e,r){function n(t,e){"string"==typeof e&&(e={shortName:e});for(var r,n=null,i=0;null===n&&i<t.attributes.length;++i)r=t.attributes[i],e.type&&e.type===r.type?n=r:e.name&&e.name===r.name?n=r:e.shortName&&e.shortName===r.shortName&&(n=r);return n}function i(t){for(var e,r,n=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]),i=t.attributes,s=0;s<i.length;++s){var a=(e=i[s]).value,o=l.Type.PRINTABLESTRING;"valueTagClass"in e&&(o=e.valueTagClass)===l.Type.UTF8&&(a=c.util.encodeUtf8(a)),r=l.create(l.Class.UNIVERSAL,l.Type.SET,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(e.type).getBytes()),l.create(l.Class.UNIVERSAL,o,!1,a)])]),n.value.push(r)}return n}function s(t){for(var e,r=0;r<t.length;++r){if(void 0===(e=t[r]).name&&(e.type&&e.type in h.oids?e.name=h.oids[e.type]:e.shortName&&e.shortName in f&&(e.name=h.oids[f[e.shortName]])),void 0===e.type){if(!(e.name&&e.name in h.oids))throw(i=new Error("Attribute type not specified.")).attribute=e,i;e.type=h.oids[e.name]}if(void 0===e.shortName&&e.name&&e.name in f&&(e.shortName=f[e.name]),e.type===p.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=l.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var n=0;n<e.extensions.length;++n)e.value.push(h.certificateExtensionToAsn1(a(e.extensions[n])))}if(void 0===e.value){var i=new Error("Attribute value not specified.");throw i.attribute=e,i}}}function a(t,e){if(e=e||{},void 0===t.name&&t.id&&t.id in h.oids&&(t.name=h.oids[t.id]),void 0===t.id){if(!(t.name&&t.name in h.oids))throw(S=new Error("Extension ID not specified.")).extension=t,S;t.id=h.oids[t.name]}if(void 0!==t.value)return t;if("keyUsage"===t.name){var r=0,n=0,s=0;t.digitalSignature&&(n|=128,r=7),t.nonRepudiation&&(n|=64,r=6),t.keyEncipherment&&(n|=32,r=5),t.dataEncipherment&&(n|=16,r=4),t.keyAgreement&&(n|=8,r=3),t.keyCertSign&&(n|=4,r=2),t.cRLSign&&(n|=2,r=1),t.encipherOnly&&(n|=1,r=0),t.decipherOnly&&(s|=128,r=7);C=String.fromCharCode(r);0!==s?C+=String.fromCharCode(n)+String.fromCharCode(s):0!==n&&(C+=String.fromCharCode(n)),t.value=l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,C)}else if("basicConstraints"===t.name)t.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(l.create(l.Class.UNIVERSAL,l.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in t&&t.value.value.push(l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(t.pathLenConstraint).getBytes()));else if("extKeyUsage"===t.name){t.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);g=t.value.value;for(var a in t)!0===t[a]&&(a in p?g.push(l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(p[a]).getBytes())):-1!==a.indexOf(".")&&g.push(l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(a).getBytes())))}else if("nsCertType"===t.name){var r=0,n=0;t.client&&(n|=128,r=7),t.server&&(n|=64,r=6),t.email&&(n|=32,r=5),t.objsign&&(n|=16,r=4),t.reserved&&(n|=8,r=3),t.sslCA&&(n|=4,r=2),t.emailCA&&(n|=2,r=1),t.objCA&&(n|=1,r=0);C=String.fromCharCode(r);0!==n&&(C+=String.fromCharCode(n)),t.value=l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,C)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);for(E=0;E<t.altNames.length;++E){C=(y=t.altNames[E]).value;if(7===y.type&&y.ip){if(null===(C=c.util.bytesFromIP(y.ip)))throw(S=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=t,S}else 8===y.type&&(C=y.oid?l.oidToDer(l.oidToDer(y.oid)):l.oidToDer(C));t.value.value.push(l.create(l.Class.CONTEXT_SPECIFIC,y.type,!1,C))}}else if("subjectKeyIdentifier"===t.name&&e.cert){var o=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=o.toHex(),t.value=l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,o.getBytes())}else if("authorityKeyIdentifier"===t.name&&e.cert){t.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);g=t.value.value;if(t.keyIdentifier){var u=!0===t.keyIdentifier?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;g.push(l.create(l.Class.CONTEXT_SPECIFIC,0,!1,u))}if(t.authorityCertIssuer){var f=[l.create(l.Class.CONTEXT_SPECIFIC,4,!0,[i(!0===t.authorityCertIssuer?e.cert.issuer:t.authorityCertIssuer)])];g.push(l.create(l.Class.CONTEXT_SPECIFIC,1,!0,f))}if(t.serialNumber){var d=c.util.hexToBytes(!0===t.serialNumber?e.cert.serialNumber:t.serialNumber);g.push(l.create(l.Class.CONTEXT_SPECIFIC,2,!1,d))}}else if("cRLDistributionPoints"===t.name){t.value=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);for(var y,g=t.value.value,m=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]),v=l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[]),E=0;E<t.altNames.length;++E){var C=(y=t.altNames[E]).value;if(7===y.type&&y.ip){if(null===(C=c.util.bytesFromIP(y.ip)))throw(S=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=t,S}else 8===y.type&&(C=y.oid?l.oidToDer(l.oidToDer(y.oid)):l.oidToDer(C));v.value.push(l.create(l.Class.CONTEXT_SPECIFIC,y.type,!1,C))}m.value.push(l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[v])),g.push(m)}if(void 0===t.value){var S=new Error("Extension value not specified.");throw S.extension=t,S}return t}function o(t,e){switch(t){case p["RSASSA-PSS"]:var r=[];return void 0!==e.hash.algorithmOid&&r.push(l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(e.hash.algorithmOid).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.NULL,!1,"")])])),void 0!==e.mgf.algorithmOid&&r.push(l.create(l.Class.CONTEXT_SPECIFIC,1,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(e.mgf.algorithmOid).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(e.mgf.hash.algorithmOid).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.NULL,!1,"")])])])),void 0!==e.saltLength&&r.push(l.create(l.Class.CONTEXT_SPECIFIC,2,!0,[l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(e.saltLength).getBytes())])),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,r);default:return l.create(l.Class.UNIVERSAL,l.Type.NULL,!1,"")}}function u(t){var e=l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===t.attributes.length)return e;for(var r=t.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,a=l.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===l.Type.UTF8&&(s=c.util.encodeUtf8(s));var o=!1;"valueConstructed"in i&&(o=i.valueConstructed);var u=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(i.type).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.SET,!0,[l.create(l.Class.UNIVERSAL,a,o,s)])]);e.value.push(u)}return e}var c=r(0);r(12),r(7),r(29),r(6),r(82),r(8),r(18),r(33),r(13),r(1);var l=c.asn1,h=t.exports=c.pki=c.pki||{},p=h.oids,f={};f.CN=p.commonName,f.commonName="CN",f.C=p.countryName,f.countryName="C",f.L=p.localityName,f.localityName="L",f.ST=p.stateOrProvinceName,f.stateOrProvinceName="ST",f.O=p.organizationName,f.organizationName="O",f.OU=p.organizationalUnitName,f.organizationalUnitName="OU",f.E=p.emailAddress,f.emailAddress="E";var d=c.pki.rsa.publicKeyValidator,y={name:"Certificate",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:l.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:l.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:l.Class.UNIVERSAL,type:l.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:l.Class.UNIVERSAL,type:l.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:l.Class.UNIVERSAL,type:l.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:l.Class.UNIVERSAL,type:l.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},d,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:l.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:l.Class.UNIVERSAL,type:l.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:l.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:l.Class.UNIVERSAL,type:l.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:l.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:l.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:l.Class.UNIVERSAL,type:l.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},g={name:"rsapss",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:l.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:l.Class.UNIVERSAL,type:l.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:l.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:l.Class.UNIVERSAL,type:l.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:l.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:l.Class.UNIVERSAL,type:l.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:l.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:l.Class.UNIVERSAL,type:l.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},m={name:"CertificationRequestInfo",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},d,{name:"CertificationRequestInfo.attributes",tagClass:l.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:l.Class.UNIVERSAL,type:l.Type.SET,constructed:!0}]}]}]},v={name:"CertificationRequest",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[m,{name:"CertificationRequest.signatureAlgorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:l.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:l.Class.UNIVERSAL,type:l.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};h.RDNAttributesAsArray=function(t,e){for(var r,n,i,s=[],a=0;a<t.value.length;++a){r=t.value[a];for(var o=0;o<r.value.length;++o)i={},n=r.value[o],i.type=l.derToOid(n.value[0].value),i.value=n.value[1].value,i.valueTagClass=n.value[1].type,i.type in p&&(i.name=p[i.type],i.name in f&&(i.shortName=f[i.name])),e&&(e.update(i.type),e.update(i.value)),s.push(i)}return s},h.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],i=l.derToOid(n.value[0].value),s=n.value[1].value,a=0;a<s.length;++a){var o={};if(o.type=i,o.value=s[a].value,o.valueTagClass=s[a].type,o.type in p&&(o.name=p[o.type],o.name in f&&(o.shortName=f[o.name])),o.type===p.extensionRequest){o.extensions=[];for(var u=0;u<o.value.length;++u)o.extensions.push(h.certificateExtensionFromAsn1(o.value[u]))}e.push(o)}return e};var E=function(t,e,r){var n={};if(t!==p["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:p.sha1},mgf:{algorithmOid:p.mgf1,hash:{algorithmOid:p.sha1}},saltLength:20});var i={},s=[];if(!l.validate(e,g,i,s)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=s,a}return void 0!==i.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=l.derToOid(i.hashOid)),void 0!==i.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=l.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=l.derToOid(i.maskGenHashOid)),void 0!==i.saltLength&&(n.saltLength=i.saltLength.charCodeAt(0)),n};h.certificateFromPem=function(t,e,r){var n=c.pem.decode(t)[0];if("CERTIFICATE"!==n.type&&"X509 CERTIFICATE"!==n.type&&"TRUSTED CERTIFICATE"!==n.type){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=l.fromDer(n.body,r);return h.certificateFromAsn1(s,e)},h.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:l.toDer(h.certificateToAsn1(t)).getBytes()};return c.pem.encode(r,{maxline:e})},h.publicKeyFromPem=function(t){var e=c.pem.decode(t)[0];if("PUBLIC KEY"!==e.type&&"RSA PUBLIC KEY"!==e.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=l.fromDer(e.body);return h.publicKeyFromAsn1(n)},h.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:l.toDer(h.publicKeyToAsn1(t)).getBytes()};return c.pem.encode(r,{maxline:e})},h.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:l.toDer(h.publicKeyToRSAPublicKey(t)).getBytes()};return c.pem.encode(r,{maxline:e})},h.getPublicKeyFingerprint=function(t,e){var r,n=(e=e||{}).md||c.md.sha1.create();switch(e.type||"RSAPublicKey"){case"RSAPublicKey":r=l.toDer(h.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":r=l.toDer(h.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}n.start(),n.update(r);var i=n.digest();if("hex"===e.encoding){var s=i.toHex();return e.delimiter?s.match(/.{2}/g).join(e.delimiter):s}if("binary"===e.encoding)return i.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".');return i},h.certificationRequestFromPem=function(t,e,r){var n=c.pem.decode(t)[0];if("CERTIFICATE REQUEST"!==n.type){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=l.fromDer(n.body,r);return h.certificationRequestFromAsn1(s,e)},h.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:l.toDer(h.certificationRequestToAsn1(t)).getBytes()};return c.pem.encode(r,{maxline:e})},h.createCertificate=function(){var t={};return t.version=2,t.serialNumber="00",t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return n(t.issuer,e)},t.issuer.addField=function(e){s([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return n(t.subject,e)},t.subject.addField=function(e){s([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){s(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){s(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)a(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){"string"==typeof e&&(e={name:e});for(var r,n=null,i=0;null===n&&i<t.extensions.length;++i)r=t.extensions[i],e.id&&r.id===e.id?n=r:e.name&&r.name===e.name&&(n=r);return n},t.sign=function(e,r){t.md=r||c.md.sha1.create();var n=p[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=h.getTBSCertificate(t);var s=l.toDer(t.tbsCertificate);t.md.update(s.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,i=t.subject;throw(y=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=n.attributes,y.actualIssuer=i.attributes,y}var s=e.md;if(null===s){if(e.signatureOid in p)switch(p[e.signatureOid]){case"sha1WithRSAEncryption":s=c.md.sha1.create();break;case"md5WithRSAEncryption":s=c.md.md5.create();break;case"sha256WithRSAEncryption":s=c.md.sha256.create();break;case"sha512WithRSAEncryption":s=c.md.sha512.create();break;case"RSASSA-PSS":s=c.md.sha256.create()}if(null===s)throw(y=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=e.signatureOid,y;var a=e.tbsCertificate||h.getTBSCertificate(e),o=l.toDer(a);s.update(o.getBytes())}if(null!==s){var u;switch(e.signatureOid){case p.sha1WithRSAEncryption:u=void 0;break;case p["RSASSA-PSS"]:var f,d;if(void 0===(f=p[e.signatureParameters.mgf.hash.algorithmOid])||void 0===c.md[f])throw(y=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,y.name=f,y;if(void 0===(d=p[e.signatureParameters.mgf.algorithmOid])||void 0===c.mgf[d]){var y=new Error("Unsupported MGF function.");throw y.oid=e.signatureParameters.mgf.algorithmOid,y.name=d,y}if(d=c.mgf[d].create(c.md[f].create()),void 0===(f=p[e.signatureParameters.hash.algorithmOid])||void 0===c.md[f])throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:f};u=c.pss.create(c.md[f].create(),d,e.signatureParameters.saltLength)}r=t.publicKey.verify(s.digest().getBytes(),e.signature,u)}return r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var s,a,o=0;r&&o<n.attributes.length;++o)s=n.attributes[o],a=i.attributes[o],s.type===a.type&&s.value===a.value||(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return h.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=p.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var i=t.generateSubjectKeyIdentifier().getBytes();return c.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},t},h.certificateFromAsn1=function(t,e){var r={},i=[];if(!l.validate(t,y,r,i))throw(d=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=i,d;var a=l.derToOid(r.publicKeyOid);if(a!==h.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=h.createCertificate();o.version=r.certVersion?r.certVersion.charCodeAt(0):0;var u=c.util.createBuffer(r.certSerialNumber);o.serialNumber=u.toHex(),o.signatureOid=c.asn1.derToOid(r.certSignatureOid),o.signatureParameters=E(o.signatureOid,r.certSignatureParams,!0),o.siginfo.algorithmOid=c.asn1.derToOid(r.certinfoSignatureOid),o.siginfo.parameters=E(o.siginfo.algorithmOid,r.certinfoSignatureParams,!1),o.signature=r.certSignature;var f=[];if(void 0!==r.certValidity1UTCTime&&f.push(l.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&f.push(l.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&f.push(l.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&f.push(l.generalizedTimeToDate(r.certValidity4GeneralizedTime)),f.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(f.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(o.validity.notBefore=f[0],o.validity.notAfter=f[1],o.tbsCertificate=r.tbsCertificate,e){if(o.md=null,o.signatureOid in p)switch(a=p[o.signatureOid]){case"sha1WithRSAEncryption":o.md=c.md.sha1.create();break;case"md5WithRSAEncryption":o.md=c.md.md5.create();break;case"sha256WithRSAEncryption":o.md=c.md.sha256.create();break;case"sha512WithRSAEncryption":o.md=c.md.sha512.create();break;case"RSASSA-PSS":o.md=c.md.sha256.create()}if(null===o.md){var d=new Error("Could not compute certificate digest. Unknown signature OID.");throw d.signatureOid=o.signatureOid,d}var g=l.toDer(o.tbsCertificate);o.md.update(g.getBytes())}var m=c.md.sha1.create();o.issuer.getField=function(t){return n(o.issuer,t)},o.issuer.addField=function(t){s([t]),o.issuer.attributes.push(t)},o.issuer.attributes=h.RDNAttributesAsArray(r.certIssuer,m),r.certIssuerUniqueId&&(o.issuer.uniqueId=r.certIssuerUniqueId),o.issuer.hash=m.digest().toHex();var v=c.md.sha1.create();return o.subject.getField=function(t){return n(o.subject,t)},o.subject.addField=function(t){s([t]),o.subject.attributes.push(t)},o.subject.attributes=h.RDNAttributesAsArray(r.certSubject,v),r.certSubjectUniqueId&&(o.subject.uniqueId=r.certSubjectUniqueId),o.subject.hash=v.digest().toHex(),r.certExtensions?o.extensions=h.certificateExtensionsFromAsn1(r.certExtensions):o.extensions=[],o.publicKey=h.publicKeyFromAsn1(r.subjectPublicKeyInfo),o},h.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(h.certificateExtensionFromAsn1(n.value[i]));return e},h.certificateExtensionFromAsn1=function(t){var e={};if(e.id=l.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===l.Type.BOOLEAN?(e.critical=0!==t.value[1].value.charCodeAt(0),e.value=t.value[2].value):e.value=t.value[1].value,e.id in p)if(e.name=p[e.id],"keyUsage"===e.name){var r=0,n=0;(s=l.fromDer(e.value)).value.length>1&&(r=s.value.charCodeAt(1),n=s.value.length>2?s.value.charCodeAt(2):0),e.digitalSignature=128==(128&r),e.nonRepudiation=64==(64&r),e.keyEncipherment=32==(32&r),e.dataEncipherment=16==(16&r),e.keyAgreement=8==(8&r),e.keyCertSign=4==(4&r),e.cRLSign=2==(2&r),e.encipherOnly=1==(1&r),e.decipherOnly=128==(128&n)}else if("basicConstraints"===e.name){(s=l.fromDer(e.value)).value.length>0&&s.value[0].type===l.Type.BOOLEAN?e.cA=0!==s.value[0].value.charCodeAt(0):e.cA=!1;var i=null;s.value.length>0&&s.value[0].type===l.Type.INTEGER?i=s.value[0].value:s.value.length>1&&(i=s.value[1].value),null!==i&&(e.pathLenConstraint=l.derToInteger(i))}else if("extKeyUsage"===e.name)for(var s=l.fromDer(e.value),a=0;a<s.value.length;++a){var o=l.derToOid(s.value[a].value);o in p?e[p[o]]=!0:e[o]=!0}else if("nsCertType"===e.name){r=0;(s=l.fromDer(e.value)).value.length>1&&(r=s.value.charCodeAt(1)),e.client=128==(128&r),e.server=64==(64&r),e.email=32==(32&r),e.objsign=16==(16&r),e.reserved=8==(8&r),e.sslCA=4==(4&r),e.emailCA=2==(2&r),e.objCA=1==(1&r)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.altNames=[];for(var u,s=l.fromDer(e.value),h=0;h<s.value.length;++h){var f={type:(u=s.value[h]).type,value:u.value};switch(e.altNames.push(f),u.type){case 1:case 2:case 6:break;case 7:f.ip=c.util.bytesToIP(u.value);break;case 8:f.oid=l.derToOid(u.value)}}}else if("subjectKeyIdentifier"===e.name){s=l.fromDer(e.value);e.subjectKeyIdentifier=c.util.bytesToHex(s.value)}return e},h.certificationRequestFromAsn1=function(t,e){var r={},i=[];if(!l.validate(t,v,r,i))throw(u=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=i,u;var a=l.derToOid(r.publicKeyOid);if(a!==h.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=h.createCertificationRequest();if(o.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,o.signatureOid=c.asn1.derToOid(r.csrSignatureOid),o.signatureParameters=E(o.signatureOid,r.csrSignatureParams,!0),o.siginfo.algorithmOid=c.asn1.derToOid(r.csrSignatureOid),o.siginfo.parameters=E(o.siginfo.algorithmOid,r.csrSignatureParams,!1),o.signature=r.csrSignature,o.certificationRequestInfo=r.certificationRequestInfo,e){if(o.md=null,o.signatureOid in p)switch(a=p[o.signatureOid]){case"sha1WithRSAEncryption":o.md=c.md.sha1.create();break;case"md5WithRSAEncryption":o.md=c.md.md5.create();break;case"sha256WithRSAEncryption":o.md=c.md.sha256.create();break;case"sha512WithRSAEncryption":o.md=c.md.sha512.create();break;case"RSASSA-PSS":o.md=c.md.sha256.create()}if(null===o.md){var u=new Error("Could not compute certification request digest. Unknown signature OID.");throw u.signatureOid=o.signatureOid,u}var f=l.toDer(o.certificationRequestInfo);o.md.update(f.getBytes())}var d=c.md.sha1.create();return o.subject.getField=function(t){return n(o.subject,t)},o.subject.addField=function(t){s([t]),o.subject.attributes.push(t)},o.subject.attributes=h.RDNAttributesAsArray(r.certificationRequestInfoSubject,d),o.subject.hash=d.digest().toHex(),o.publicKey=h.publicKeyFromAsn1(r.subjectPublicKeyInfo),o.getAttribute=function(t){return n(o,t)},o.addAttribute=function(t){s([t]),o.attributes.push(t)},o.attributes=h.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),o},h.createCertificationRequest=function(){var t={};return t.version=0,t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return n(t.subject,e)},t.subject.addField=function(e){s([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return n(t,e)},t.addAttribute=function(e){s([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){s(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){s(e),t.attributes=e},t.sign=function(e,r){t.md=r||c.md.sha1.create();var n=p[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=h.getCertificationRequestInfo(t);var s=l.toDer(t.certificationRequestInfo);t.md.update(s.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(null===r){if(t.signatureOid in p)switch(p[t.signatureOid]){case"sha1WithRSAEncryption":r=c.md.sha1.create();break;case"md5WithRSAEncryption":r=c.md.md5.create();break;case"sha256WithRSAEncryption":r=c.md.sha256.create();break;case"sha512WithRSAEncryption":r=c.md.sha512.create();break;case"RSASSA-PSS":r=c.md.sha256.create()}if(null===r)throw(u=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=t.signatureOid,u;var n=t.certificationRequestInfo||h.getCertificationRequestInfo(t),i=l.toDer(n);r.update(i.getBytes())}if(null!==r){var s;switch(t.signatureOid){case p.sha1WithRSAEncryption:break;case p["RSASSA-PSS"]:var a,o;if(void 0===(a=p[t.signatureParameters.mgf.hash.algorithmOid])||void 0===c.md[a])throw(u=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,u.name=a,u;if(void 0===(o=p[t.signatureParameters.mgf.algorithmOid])||void 0===c.mgf[o])throw(u=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,u.name=o,u;if(o=c.mgf[o].create(c.md[a].create()),void 0===(a=p[t.signatureParameters.hash.algorithmOid])||void 0===c.md[a]){var u=new Error("Unsupported RSASSA-PSS hash function.");throw u.oid=t.signatureParameters.hash.algorithmOid,u.name=a,u}s=c.pss.create(c.md[a].create(),o,t.signatureParameters.saltLength)}e=t.publicKey.verify(r.digest().getBytes(),t.signature,s)}return e},t},h.getTBSCertificate=function(t){var e=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(t.version).getBytes())]),l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,c.util.hexToBytes(t.serialNumber)),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(t.siginfo.algorithmOid).getBytes()),o(t.siginfo.algorithmOid,t.siginfo.parameters)]),i(t.issuer),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.UTCTIME,!1,l.dateToUtcTime(t.validity.notBefore)),l.create(l.Class.UNIVERSAL,l.Type.UTCTIME,!1,l.dateToUtcTime(t.validity.notAfter))]),i(t.subject),h.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&e.value.push(l.create(l.Class.CONTEXT_SPECIFIC,1,!0,[l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,String.fromCharCode(0)+t.issuer.uniqueId)])),t.subject.uniqueId&&e.value.push(l.create(l.Class.CONTEXT_SPECIFIC,2,!0,[l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,String.fromCharCode(0)+t.subject.uniqueId)])),t.extensions.length>0&&e.value.push(h.certificateExtensionsToAsn1(t.extensions)),e},h.getCertificationRequestInfo=function(t){return l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(t.version).getBytes()),i(t.subject),h.publicKeyToAsn1(t.publicKey),u(t)])},h.distinguishedNameToAsn1=function(t){return i(t)},h.certificateToAsn1=function(t){var e=t.tbsCertificate||h.getTBSCertificate(t);return l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[e,l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(t.signatureOid).getBytes()),o(t.signatureOid,t.signatureParameters)]),l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},h.certificateExtensionsToAsn1=function(t){var e=l.create(l.Class.CONTEXT_SPECIFIC,3,!0,[]),r=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(h.certificateExtensionToAsn1(t[n]));return e},h.certificateExtensionToAsn1=function(t){var e=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[]);e.value.push(l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(t.id).getBytes())),t.critical&&e.value.push(l.create(l.Class.UNIVERSAL,l.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=t.value;return"string"!=typeof t.value&&(r=l.toDer(r).getBytes()),e.value.push(l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,r)),e},h.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||h.getCertificationRequestInfo(t);return l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[e,l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(t.signatureOid).getBytes()),o(t.signatureOid,t.signatureParameters)]),l.create(l.Class.UNIVERSAL,l.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},h.createCaStore=function(t){function e(t){return r(t),n.certs[t.hash]||null}function r(t){if(!t.hash){var e=c.md.sha1.create();t.attributes=h.RDNAttributesAsArray(i(t),e),t.hash=e.digest().toHex()}}var n={certs:{}};if(n.getIssuer=function(t){return e(t.issuer)},n.addCertificate=function(t){if("string"==typeof t&&(t=c.pki.certificateFromPem(t)),r(t.subject),!n.hasCertificate(t))if(t.subject.hash in n.certs){var e=n.certs[t.subject.hash];c.util.isArray(e)||(e=[e]),e.push(t),n.certs[t.subject.hash]=e}else n.certs[t.subject.hash]=t},n.hasCertificate=function(t){"string"==typeof t&&(t=c.pki.certificateFromPem(t));var r=e(t.subject);if(!r)return!1;c.util.isArray(r)||(r=[r]);for(var n=l.toDer(h.certificateToAsn1(t)).getBytes(),i=0;i<r.length;++i)if(n===l.toDer(h.certificateToAsn1(r[i])).getBytes())return!0;return!1},n.listAllCertificates=function(){var t=[];for(var e in n.certs)if(n.certs.hasOwnProperty(e)){var r=n.certs[e];if(c.util.isArray(r))for(var i=0;i<r.length;++i)t.push(r[i]);else t.push(r)}return t},n.removeCertificate=function(t){var i;if("string"==typeof t&&(t=c.pki.certificateFromPem(t)),r(t.subject),!n.hasCertificate(t))return null;var s=e(t.subject);if(!c.util.isArray(s))return i=n.certs[t.subject.hash],delete n.certs[t.subject.hash],i;for(var a=l.toDer(h.certificateToAsn1(t)).getBytes(),o=0;o<s.length;++o)a===l.toDer(h.certificateToAsn1(s[o])).getBytes()&&(i=s[o],s.splice(o,1));return 0===s.length&&delete n.certs[t.subject.hash],i},t)for(var s=0;s<t.length;++s){var a=t[s];n.addCertificate(a)}return n},h.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},h.verifyCertificateChain=function(t,e,r){var n=(e=e.slice(0)).slice(0),i=new Date,s=!0,a=null,o=0;do{var u=e.shift(),l=null,p=!1;if((i<u.validity.notBefore||i>u.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:h.certificateError.certificate_expired,notBefore:u.validity.notBefore,notAfter:u.validity.notAfter,now:i}),null===a){if(null===(l=e[0]||t.getIssuer(u))&&u.isIssuer(u)&&(p=!0,l=u),l){var f=l;c.util.isArray(f)||(f=[f]);for(var d=!1;!d&&f.length>0;){l=f.shift();try{d=l.verify(u)}catch(t){}}d||(a={message:"Certificate signature is invalid.",error:h.certificateError.bad_certificate})}null!==a||l&&!p||t.hasCertificate(u)||(a={message:"Certificate is not trusted.",error:h.certificateError.unknown_ca})}if(null===a&&l&&!u.isIssuer(l)&&(a={message:"Certificate issuer is invalid.",error:h.certificateError.bad_certificate}),null===a)for(var y={keyUsage:!0,basicConstraints:!0},g=0;null===a&&g<u.extensions.length;++g){var m=u.extensions[g];!m.critical||m.name in y||(a={message:"Certificate has an unsupported critical extension.",error:h.certificateError.unsupported_certificate})}if(null===a&&(!s||0===e.length&&(!l||p))){var v=u.getExtension("basicConstraints"),E=u.getExtension("keyUsage");null!==E&&(E.keyCertSign&&null!==v||(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:h.certificateError.bad_certificate})),null!==a||null===v||v.cA||(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:h.certificateError.bad_certificate}),null===a&&null!==E&&"pathLenConstraint"in v&&o-1>v.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:h.certificateError.bad_certificate})}var C=null===a||a.error,S=r?r(C,o,n):C;if(!0!==S)throw!0===C&&(a={message:"The application rejected the certificate.",error:h.certificateError.bad_certificate}),(S||0===S)&&("object"!=typeof S||c.util.isArray(S)?"string"==typeof S&&(a.error=S):(S.message&&(a.message=S.message),S.error&&(a.error=S.error))),a;a=null,s=!1,++o}while(e.length>0);return!0}},function(t,e,r){var n=r(0);r(9),r(1),(t.exports=n.pss=n.pss||{}).create=function(t){3===arguments.length&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=t.md,r=t.mgf,i=e.digestLength,s=t.salt||null;"string"==typeof s&&(s=n.util.createBuffer(s));var a;if("saltLength"in t)a=t.saltLength;else{if(null===s)throw new Error("Salt length not specified or specific salt not given.");a=s.length()}if(null!==s&&s.length()!==a)throw new Error("Given salt length does not match length of given salt.");var o=t.prng||n.random,u={};return u.encode=function(t,u){var c,l=u-1,h=Math.ceil(l/8),p=t.digest().getBytes();if(h<i+a+2)throw new Error("Message is too long to encrypt.");var f;f=null===s?o.getBytesSync(a):s.bytes();var d=new n.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(p),d.putBytes(f),e.start(),e.update(d.getBytes());var y=e.digest().getBytes(),g=new n.util.ByteBuffer;g.fillWithByte(0,h-a-i-2),g.putByte(1),g.putBytes(f);var m=g.getBytes(),v=h-i-1,E=r.generate(y,v),C="";for(c=0;c<v;c++)C+=String.fromCharCode(m.charCodeAt(c)^E.charCodeAt(c));var S=65280>>8*h-l&255;return(C=String.fromCharCode(C.charCodeAt(0)&~S)+C.substr(1))+y+String.fromCharCode(188)},u.verify=function(t,s,o){var u,c=o-1,l=Math.ceil(c/8);if(s=s.substr(-l),l<i+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==s.charCodeAt(l-1))throw new Error("Encoded message does not end in 0xBC.");var h=l-i-1,p=s.substr(0,h),f=s.substr(h,i),d=65280>>8*l-c&255;if(0!=(p.charCodeAt(0)&d))throw new Error("Bits beyond keysize not zero as expected.");var y=r.generate(f,h),g="";for(u=0;u<h;u++)g+=String.fromCharCode(p.charCodeAt(u)^y.charCodeAt(u));g=String.fromCharCode(g.charCodeAt(0)&~d)+g.substr(1);var m=l-i-a-2;for(u=0;u<m;u++)if(0!==g.charCodeAt(u))throw new Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(m))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var v=g.substr(-a),E=new n.util.ByteBuffer;return E.fillWithByte(0,8),E.putBytes(t),E.putBytes(v),e.start(),e.update(E.getBytes()),f===e.digest().getBytes()},u}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(11),i=r(97),s=n.rsa,a=n.pki;e.createKeyPair=(async(t=2048,e=-1)=>i.callback(s.generateKeyPair,{bits:t,workers:e})),e.keyPairToPem=(async t=>({publicKey:await e.publicKeyToPem(t.publicKey),privateKey:await e.privateKeyToPem(t.privateKey)})),e.publicKeyToPem=(async t=>a.publicKeyToPem(t)),e.privateKeyToPem=(async t=>a.privateKeyToPem(t)),e.publicKeyFromPem=(async t=>a.publicKeyFromPem(t)),e.privateKeyFromPem=(async t=>a.privateKeyFromPem(t))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(36),i=r(47),s=r(96),a=r(19),o=r(34),u=r(99),c=r(120);class l{constructor(t=n,e=a.default){this.apiKey=null,this.allowedIps=[],this.errorCodes=c.default,this.storageInterface=t,this.logger=e,this.Session=new s.default(this.storageInterface,this.logger),this.ApiAdapter=new i.default(this.Session,this.logger),this.api=u.default(this.ApiAdapter)}async run(t,e=[],r="SANDBOX",n=!1){this.logger.debug("BunqJSClient run"),this.apiKey=t,this.allowedIps=e,await this.Session.setup(this.apiKey,this.allowedIps,r,n),await this.ApiAdapter.setup()}async install(){if(!1===this.Session.verifyInstallation()){const t=await this.api.installation.add();this.Session.serverPublicKeyPem=t.serverPublicKey,this.Session.serverPublicKey=await o.publicKeyFromPem(t.serverPublicKey),this.Session.installToken=t.token.token,this.Session.installUpdated=new Date(t.token.updated),this.Session.installCreated=new Date(t.token.created),await this.Session.storeSession()}return!0}async registerDevice(t="My Device"){if(!1===this.Session.verifyDeviceInstallation())try{const e=await this.api.deviceRegistration.add({description:t,permitted_ips:this.allowedIps});this.Session.deviceId=e,await this.Session.storeSession()}catch(t){if(!t.response)throw t;throw 400===t.response.status&&(this.Session.serverPublicKeyPem=null,this.Session.serverPublicKey=null,this.Session.installToken=null,this.Session.installUpdated=null,this.Session.installCreated=null,await this.Session.setupKeypair(!0),await this.Session.storeSession()),t}return!0}async registerSession(){if(!1===this.Session.verifySessionInstallation()){let t=null;try{t=await this.api.sessionServer.add()}catch(t){if(t.response&&t.response.Error){const e=t.response.Error[0].error_description;this.logger.error("bunq API error: "+e)}throw{errorCode:this.errorCodes.INSTALLATION_HAS_SESSION,error:t}}this.logger.debug("response.token.created:"+t.token.created);const e=new Date(t.token.created);void 0!==t.user_info.UserCompany?(e.setSeconds(e.getSeconds()+t.user_info.UserCompany.session_timeout),this.logger.debug("Received response.user_info.UserCompany.session_timeout from api: "+t.user_info.UserCompany.session_timeout)):void 0!==t.user_info.UserPerson?(e.setSeconds(e.getSeconds()+t.user_info.UserPerson.session_timeout),this.logger.debug("Received response.user_info.UserPerson.session_timeout from api: "+t.user_info.UserPerson.session_timeout)):void 0!==t.user_info.UserLight&&(e.setSeconds(e.getSeconds()+t.user_info.UserLight.session_timeout),this.logger.debug("Received response.user_info.UserLight.session_timeout from api: "+t.user_info.UserLight.session_timeout)),this.Session.sessionExpiryTime=e,this.Session.sessionId=t.id,this.Session.sessionToken=t.token.token,this.Session.sessionTokenId=t.token.id,this.Session.userInfo=t.user_info,this.logger.debug("calculated expireDate: "+e),this.logger.debug("calculated current date: "+new Date),await this.Session.storeSession()}return!0}async createCredentials(){const t=this.ApiAdapter.RequestLimitFactory.create("/credential-password-ip-request","POST");return(await t.run(async()=>this.ApiAdapter.post(`https://api.tinker.bunq.com/v1/credential-password-ip-request`,{},{},{disableSigning:!0}))).Response[0].UserCredentialPasswordIpRequest}async checkCredentialStatus(t){const e=this.ApiAdapter.RequestLimitFactory.create("/credential-password-ip-request","GET");return(await e.run(async()=>this.ApiAdapter.get(`https://api.tinker.bunq.com/v1/credential-password-ip-request/${t}`,{},{disableSigning:!0}))).Response[0].UserCredentialPasswordIpRequest}async destroySession(){if(this.Session.verifyInstallation()&&this.Session.verifyDeviceInstallation()&&this.Session.verifySessionInstallation())try{await this.api.sessionServer.delete()}catch(t){}await this.Session.destroySession()}async getUser(t,e=!1){return e&&(this.Session.userInfo=await this.api.user.list()),this.Session.userInfo[t]}async getUsers(t=!1){return t&&(this.Session.userInfo=await this.api.user.list()),this.Session.userInfo}}e.default=l},function(t,e,r){var n=r(37),i=r(38),s=[r(45)];t.exports=n.createStore(i,s)},function(t,e,r){function n(){var t="undefined"==typeof console?null:console;t&&(t.warn?t.warn:t.log).apply(t,arguments)}function i(t,e,r){r||(r=""),t&&!h(t)&&(t=[t]),e&&!h(e)&&(e=[e]);var i=r?"__storejs_"+r+"_":"",s=r?new RegExp("^"+i):null;if(!/^[a-zA-Z0-9_\-]*$/.test(r))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var y=l({_namespacePrefix:i,_namespaceRegexp:s,_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var r=t.read(e)===e;return t.remove(e),r}catch(t){return!1}},_assignPluginFnProp:function(t,e){var r=this[e];this[e]=function(){var e=a(arguments,0),n=this,i=[function(){if(r)return u(arguments,function(t,r){e[r]=t}),r.apply(n,e)}].concat(e);return t.apply(n,i)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var r="";try{r=JSON.parse(t)}catch(e){r=t}return void 0!==r?r:e},_addStorage:function(t){this.enabled||this._testStorage(t)&&(this.storage=t,this.enabled=!0)},_addPlugin:function(t){var e=this;if(h(t))u(t,function(t){e._addPlugin(t)});else if(!o(this.plugins,function(e){return t===e})){if(this.plugins.push(t),!p(t))throw new Error("Plugins must be function values that return objects");var r=t.call(this);if(!f(r))throw new Error("Plugins must return an object of function properties");u(r,function(r,n){if(!p(r))throw new Error("Bad plugin property: "+n+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(r,n)})}},addStorage:function(t){n("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(t)}},d,{plugins:[]});return y.raw={},u(y,function(t,e){p(t)&&(y.raw[e]=c(y,t))}),u(t,function(t){y._addStorage(t)}),u(e,function(t){y._addPlugin(t)}),y}var s=r(5),a=s.slice,o=s.pluck,u=s.each,c=s.bind,l=s.create,h=s.isList,p=s.isFunction,f=s.isObject;t.exports={createStore:i};var d={version:"2.0.12",enabled:!1,get:function(t,e){var r=this.storage.read(this._namespacePrefix+t);return this._deserialize(r,e)},set:function(t,e){return void 0===e?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var e=this;this.storage.each(function(r,n){t.call(e,e._deserialize(r),(n||"").replace(e._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return i.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return i(this.storage,this.plugins,t)}}},function(t,e,r){t.exports=[r(39),r(40),r(41),r(42),r(43),r(44)]},function(t,e,r){function n(){return s.localStorage}function i(t){return n().getItem(t)}var s=r(5).Global;t.exports={name:"localStorage",read:i,write:function(t,e){return n().setItem(t,e)},each:function(t){for(var e=n().length-1;e>=0;e--){var r=n().key(e);t(i(r),r)}},remove:function(t){return n().removeItem(t)},clearAll:function(){return n().clear()}}},function(t,e,r){function n(t){for(var e=s.length-1;e>=0;e--){var r=s.key(e);t(s[r],r)}}var i=r(5).Global;t.exports={name:"oldFF-globalStorage",read:function(t){return s[t]},write:function(t,e){s[t]=e},each:n,remove:function(t){return s.removeItem(t)},clearAll:function(){n(function(t,e){delete s[t]})}};var s=i.globalStorage},function(t,e,r){function n(t){return t.replace(/^\d/,"___$&").replace(c,"___")}var i=r(5).Global;t.exports={name:"oldIE-userDataStorage",write:function(t,e){if(!u){var r=n(t);o(function(t){t.setAttribute(r,e),t.save(s)})}},read:function(t){if(!u){var e=n(t),r=null;return o(function(t){r=t.getAttribute(e)}),r}},each:function(t){o(function(e){for(var r=e.XMLDocument.documentElement.attributes,n=r.length-1;n>=0;n--){var i=r[n];t(e.getAttribute(i.name),i.name)}})},remove:function(t){var e=n(t);o(function(t){t.removeAttribute(e),t.save(s)})},clearAll:function(){o(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(s);for(var r=e.length-1;r>=0;r--)t.removeAttribute(e[r].name);t.save(s)})}};var s="storejs",a=i.document,o=function(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var t,e,r;try{(e=new ActiveXObject("htmlfile")).open(),e.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),e.close(),t=e.w.frames[0].document,r=t.createElement("div")}catch(e){r=a.createElement("div"),t=a.body}return function(e){var n=[].slice.call(arguments,0);n.unshift(r),t.appendChild(r),r.addBehavior("#default#userData"),r.load(s),e.apply(this,n),t.removeChild(r)}}(),u=(i.navigator?i.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g")},function(t,e,r){function n(t){for(var e=c.cookie.split(/; ?/g),r=e.length-1;r>=0;r--)if(u(e[r])){var n=e[r].split("="),i=unescape(n[0]);t(unescape(n[1]),i)}}function i(t){t&&s(t)&&(c.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function s(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(c.cookie)}var a=r(5),o=a.Global,u=a.trim;t.exports={name:"cookieStorage",read:function(t){if(!t||!s(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(c.cookie.replace(new RegExp(e),"$1"))},write:function(t,e){t&&(c.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},each:n,remove:i,clearAll:function(){n(function(t,e){i(e)})}};var c=o.document},function(t,e,r){function n(){return s.sessionStorage}function i(t){return n().getItem(t)}var s=r(5).Global;t.exports={name:"sessionStorage",read:i,write:function(t,e){return n().setItem(t,e)},each:function(t){for(var e=n().length-1;e>=0;e--){var r=n().key(e);t(i(r),r)}},remove:function(t){return n().removeItem(t)},clearAll:function(){return n().clear()}}},function(t,e){t.exports={name:"memoryStorage",read:function(t){return r[t]},write:function(t,e){r[t]=e},each:function(t){for(var e in r)r.hasOwnProperty(e)&&t(r[e],e)},remove:function(t){delete r[t]},clearAll:function(t){r={}}};var r={}},function(t,e,r){t.exports=function(){return r(46),{}}},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var r,n,i,s,a,o=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(s=u.length,r=0;r<s;r+=1)a[r]=str(r,u)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+o+"]":"["+a.join(",")+"]",gap=o,i}if(rep&&"object"==typeof rep)for(s=rep.length,r=0;r<s;r+=1)"string"==typeof rep[r]&&(i=str(n=rep[r],u))&&a.push(quote(n)+(gap?": ":":")+i);else for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(i=str(n,u))&&a.push(quote(n)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+o+"}":"{"+a.join(",")+"}",gap=o,i}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var r,n,i=t[e];if(i&&"object"==typeof i)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(void 0!==(n=walk(i,r))?i[r]=n:delete i[r]);return reviver.call(t,e,i)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(48),i=(r(11),r(84)),s=r(91),a=r(93),o=r(94);e.DEFAULT_HEADERS={"Cache-Control":"no-cache","Content-Type":"application/json","X-Bunq-Language":"en_US","X-Bunq-Region":"nl_NL","X-Bunq-Geolocation":"0 0 0 0 000"};class u{constructor(t,e){this.Session=t,this.logger=e,this.RequestLimitFactory=new o.default,this.language="en_US",this.region="nl_NL",this.geoLocation="0 0 0 0 000"}async setup(){}async get(t,e={},r={}){return(await this.request(t,"GET",{},e,r)).data}async delete(t,e={},r={}){return(await this.request(t,"DELETE",{},e,r)).data}async post(t,e={},r={},n={}){return(await this.request(t,"POST",e,r,n)).data}async put(t,e={},r={},n={}){return(await this.request(t,"PUT",e,r,n)).data}async list(t,e={},r={},n={}){return(await this.request(t,"LIST",e,r,n)).data}async request(t,e="GET",r={},i={},s={}){null!==this.Session.sessionToken?i["X-Bunq-Client-Authentication"]=this.Session.sessionToken:null!==this.Session.installToken&&(i["X-Bunq-Client-Authentication"]=this.Session.installToken);let a=Object.assign({url:`${t}`,method:e,data:r,headers:this.createHeaders(i)},s.axiosOptions);if(!0===s.isEncrypted&&(a=await this.encryptRequest(a,s)),!0!==s.disableSigning){const t=await this.signRequest(a,s);a.headers["X-Bunq-Client-Signature"]=t}return"/"===a.url[0]&&(a.url=`${this.Session.environmentUrl}${a.url}`),await n.default.request(a)}async encryptRequest(t,e){return t}async signRequest(t,e){let r=t.url;const n=!0===e.isEncrypted;if(t.params&&Object.keys(t.params).length>0){const e=new i.URLSearchParams(t.params);r=`${t.url}?${e.toString()}`}const a=`${t.method} ${r}`,o=Object.keys(t.headers).map(e=>e.includes("X-Bunq")||e.includes("Cache-Control")||e.includes("User-Agent")?`${e}: ${t.headers[e]}`:"");o.push(`User-Agent: ${navigator.userAgent}`),o.sort();const u=o.join("\n");let c="\n\n";const l=["POST","PUT","DELETE"];!0===n?c=`\n\n${t.data}`:l.some(e=>e===t.method)&&(c=`\n\n${JSON.stringify(t.data)}`);const h=`${a}${u}${c}`;return await s.signString(h,this.Session.privateKey)}async verifyResponse(t){if(!this.Session.serverPublicKey)return null===this.Session.installToken;const e=[];Object.keys(t.headers).map(r=>{const n=r.split("-").map(a.ucfirst).join("-");n.includes("X-Bunq")&&!n.includes("X-Bunq-Server-Signature")&&e.push(`${n}: ${t.headers[r]}`)}),e.sort();const r=e.join("\n");let n="";switch(typeof t.request.response){case"string":n=t.request.response;break;default:n=t.request.response.toString()}`${t.status}\n${r}\n\n${n}`;return!0}createHeaders(t=[]){const r=new Date;return Object.assign({},e.DEFAULT_HEADERS,{"X-Bunq-Client-Request-Id":r.getTime()+r.getMilliseconds()+Math.random(),"X-Bunq-Geolocation":this.geoLocation,"X-Bunq-Language":this.language,"X-Bunq-Region":this.region},t)}}e.default=u},function(t,e,r){t.exports=r(49)},function(t,e,r){"use strict";(function(e){function n(t){var e=new a(t),r=s(a.prototype.request,e);return i.extend(r,a.prototype,e),i.extend(r,e),r}var i=r(2),s=r(20),a=r(53),o=r(14),u=n(o);u.Axios=a,u.create=function(t){return n(i.merge(o,t))},u.Cancel=r(24),u.CancelToken=r(67),u.isCancel=r(23),u.all=function(t){return e.all(t)},u.spread=r(68),t.exports=u,t.exports.default=u}).call(e,r(3))},function(t,e,r){(function(e,n){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */
!function(e,r){t.exports=r()}(0,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function s(){return function(){K(o)}}function a(){var t=setTimeout;return function(){return t(o,1)}}function o(){for(var t=0;t<V;t+=2)(0,Q[t])(Q[t+1]),Q[t]=void 0,Q[t+1]=void 0;V=0}function u(t,e){var r=arguments,n=this,i=new this.constructor(l);void 0===i[Y]&&_(i);var s=n._state;return s?function(){var t=r[s-1];j(function(){return w(s,i,t,n._result)})}():b(n,i,t,e),i}function c(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var r=new e(l);return v(r,t),r}function l(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function f(t){try{return t.then}catch(t){return Z.error=t,Z}}function d(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}function y(t,e,r){j(function(t){var n=!1,i=d(r,e,function(r){n||(n=!0,e!==r?v(t,r):C(t,r))},function(e){n||(n=!0,S(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&i&&(n=!0,S(t,i))},t)}function g(t,e){e._state===W?C(t,e._result):e._state===J?S(t,e._result):b(e,void 0,function(e){return v(t,e)},function(e){return S(t,e)})}function m(t,e,r){e.constructor===t.constructor&&r===u&&e.constructor.resolve===c?g(t,e):r===Z?S(t,Z.error):void 0===r?C(t,e):i(r)?y(t,e,r):C(t,e)}function v(e,r){e===r?S(e,h()):t(r)?m(e,r,f(r)):C(e,r)}function E(t){t._onerror&&t._onerror(t._result),T(t)}function C(t,e){t._state===X&&(t._result=e,t._state=W,0!==t._subscribers.length&&j(T,t))}function S(t,e){t._state===X&&(t._state=J,t._result=e,j(E,t))}function b(t,e,r,n){var i=t._subscribers,s=i.length;t._onerror=null,i[s]=e,i[s+W]=r,i[s+J]=n,0===s&&t._state&&j(T,t)}function T(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,s=t._result,a=0;a<e.length;a+=3)n=e[a],i=e[a+r],n?w(r,n,i,s):i(s);t._subscribers.length=0}}function A(){this.error=null}function I(t,e){try{return t(e)}catch(t){return tt.error=t,tt}}function w(t,e,r,n){var s=i(r),a=void 0,o=void 0,u=void 0,c=void 0;if(s){if((a=I(r,n))===tt?(c=!0,o=a.error,a=null):u=!0,e===a)return void S(e,p())}else a=n,u=!0;e._state!==X||(s&&u?v(e,a):c?S(e,o):t===W?C(e,a):t===J&&S(e,a))}function B(t,e){try{e(function(e){v(t,e)},function(e){S(t,e)})}catch(e){S(t,e)}}function R(){return et++}function _(t){t[Y]=et++,t._state=void 0,t._result=void 0,t._subscribers=[]}function N(t,e){this._instanceConstructor=t,this.promise=new t(l),this.promise[Y]||_(this.promise),x(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&C(this.promise,this._result))):S(this.promise,L())}function L(){return new Error("Array Methods must be provided an Array")}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function k(t){this[Y]=R(),this._result=this._state=void 0,this._subscribers=[],l!==t&&("function"!=typeof t&&U(),this instanceof k?B(this,t):P())}function O(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=k}var D=void 0,x=D=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},V=0,K=void 0,q=void 0,j=function(t,e){Q[V]=t,Q[V+1]=e,2===(V+=2)&&(q?q(o):H())},M="undefined"!=typeof window?window:void 0,F=M||{},G=F.MutationObserver||F.WebKitMutationObserver,$="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),H=void 0;H=$?function(){return e.nextTick(o)}:G?function(){var t=0,e=new G(o),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}():z?function(){var t=new MessageChannel;return t.port1.onmessage=o,function(){return t.port2.postMessage(0)}}():void 0===M?function(){try{var t=r(51);return K=t.runOnLoop||t.runOnContext,s()}catch(t){return a()}}():a();var Y=Math.random().toString(36).substring(16),X=void 0,W=1,J=2,Z=new A,tt=new A,et=0;return N.prototype._enumerate=function(){for(var t=this.length,e=this._input,r=0;this._state===X&&r<t;r++)this._eachEntry(e[r],r)},N.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===c){var i=f(t);if(i===u&&t._state!==X)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===k){var s=new r(l);m(s,t,i),this._willSettleAt(s,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},N.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===X&&(this._remaining--,t===J?S(n,r):this._result[e]=r),0===this._remaining&&C(n,this._result)},N.prototype._willSettleAt=function(t,e){var r=this;b(t,void 0,function(t){return r._settledAt(W,e,t)},function(t){return r._settledAt(J,e,t)})},k.all=function(t){return new N(this,t).promise},k.race=function(t){var e=this;return new e(x(t)?function(r,n){for(var i=t.length,s=0;s<i;s++)e.resolve(t[s]).then(r,n)}:function(t,e){return e(new TypeError("You must pass an array to race."))})},k.resolve=c,k.reject=function(t){var e=new this(l);return S(e,t),e},k._setScheduler=function(t){q=t},k._setAsap=function(t){j=t},k._asap=j,k.prototype={constructor:k,then:u,catch:function(t){return this.then(null,t)}},O(),k.polyfill=O,k.Promise=k,k})}).call(e,r(4),r(10))},function(t,e){},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||n(t)||!!t._isBuffer)}},function(t,e,r){"use strict";(function(e){function n(t){this.defaults=t,this.interceptors={request:new a,response:new a}}var i=r(14),s=r(2),a=r(62),o=r(63),u=r(65),c=r(66);n.prototype.request=function(t){"string"==typeof t&&(t=s.merge({url:arguments[0]},arguments[1])),(t=s.merge(i,this.defaults,{method:"get"},t)).method=t.method.toLowerCase(),t.baseURL&&!u(t.url)&&(t.url=c(t.baseURL,t.url));var r=[o,void 0],n=e.resolve(t);for(this.interceptors.request.forEach(function(t){r.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){r.push(t.fulfilled,t.rejected)});r.length;)n=n.then(r.shift(),r.shift());return n},s.forEach(["delete","get","head","options"],function(t){n.prototype[t]=function(e,r){return this.request(s.merge(r||{},{method:t,url:e}))}}),s.forEach(["post","put","patch"],function(t){n.prototype[t]=function(e,r,n){return this.request(s.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=n}).call(e,r(3))},function(t,e,r){"use strict";var n=r(2);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(22);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t}},function(t,e,r){"use strict";function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=r(2);t.exports=function(t,e,r){if(!e)return t;var s;if(r)s=r(e);else if(i.isURLSearchParams(e))s=e.toString();else{var a=[];i.forEach(e,function(t,e){null!==t&&void 0!==t&&(i.isArray(t)&&(e+="[]"),i.isArray(t)||(t=[t]),i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(n(e)+"="+n(t))}))}),s=a.join("&")}return s&&(t+=(-1===t.indexOf("?")?"?":"&")+s),t}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t){var e,r,i,s={};return t?(n.forEach(t.split("\n"),function(t){i=t.indexOf(":"),e=n.trim(t.substr(0,i)).toLowerCase(),r=n.trim(t.substr(i+1)),e&&(s[e]=s[e]?s[e]+", "+r:r)}),s):s}},function(t,e,r){"use strict";var n=r(2);t.exports=n.isStandardBrowserEnv()?function(){function t(t){var e=t;return r&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var e,r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return e=t(window.location.href),function(r){var i=n.isString(r)?t(r):r;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},function(t,e,r){"use strict";function n(){this.message="String contains an invalid character"}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,r,s=String(t),a="",o=0,u=i;s.charAt(0|o)||(u="=",o%1);a+=u.charAt(63&e>>8-o%1*8)){if((r=s.charCodeAt(o+=.75))>255)throw new n;e=e<<8|r}return a}},function(t,e,r){"use strict";var n=r(2);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,s,a){var o=[];o.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),n.isString(i)&&o.push("path="+i),n.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";function n(){this.handlers=[]}var i=r(2);n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=n},function(t,e,r){"use strict";(function(e){function n(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var i=r(2),s=r(64),a=r(23),o=r(14);t.exports=function(t){return n(t),t.headers=t.headers||{},t.data=s(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return n(t),e.data=s(e.data,e.headers,t.transformResponse),e},function(r){return a(r)||(n(t),r&&r.response&&(r.response.data=s(r.response.data,r.response.headers,t.transformResponse))),e.reject(r)})}}).call(e,r(3))},function(t,e,r){"use strict";var n=r(2);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";(function(e){function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var r;this.promise=new e(function(t){r=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),r(n.reason))})}var i=r(24);n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t;return{token:new n(function(e){t=e}),cancel:t}},t.exports=n}).call(e,r(3))},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){function n(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(70),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,r){(function(t,e){!function(t,r){"use strict";function n(t){delete u[t]}function i(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}function s(t){if(c)setTimeout(s,0,t);else{var e=u[t];if(e){c=!0;try{i(e)}finally{n(t),c=!1}}}}if(!t.setImmediate){var a,o=1,u={},c=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?a=function(t){e.nextTick(function(){s(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?function(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&s(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),a=function(r){t.postMessage(e+r,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){s(t.data)},a=function(e){t.port2.postMessage(e)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var t=l.documentElement;a=function(e){var r=l.createElement("script");r.onreadystatechange=function(){s(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():a=function(t){setTimeout(s,0,t)},h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return u[o]=n,a(o),o++},h.clearImmediate=n}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,r(10),r(4))},function(t,e,r){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}function s(t,e,r){for(var n,s=[],a=e;a<r;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],s.push(i(n));return s.join("")}e.byteLength=function(t){return 3*t.length/4-n(t)},e.toByteArray=function(t){var e,r,i,s,a,c=t.length;s=n(t),a=new u(3*c/4-s),r=s>0?c-4:c;var l=0;for(e=0;e<r;e+=4)i=o[t.charCodeAt(e)]<<18|o[t.charCodeAt(e+1)]<<12|o[t.charCodeAt(e+2)]<<6|o[t.charCodeAt(e+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===s?(i=o[t.charCodeAt(e)]<<2|o[t.charCodeAt(e+1)]>>4,a[l++]=255&i):1===s&&(i=o[t.charCodeAt(e)]<<10|o[t.charCodeAt(e+1)]<<4|o[t.charCodeAt(e+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a},e.fromByteArray=function(t){for(var e,r=t.length,n=r%3,i="",o=[],u=0,c=r-n;u<c;u+=16383)o.push(s(t,u,u+16383>c?c:u+16383));return 1===n?(e=t[r-1],i+=a[e>>2],i+=a[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=a[e>>10],i+=a[e>>4&63],i+=a[e<<2&63],i+="="),o.push(i),o.join("")};for(var a=[],o=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,h=c.length;l<h;++l)a[l]=c[l],o[c.charCodeAt(l)]=l;o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var s,a,o=8*i-n-1,u=(1<<o)-1,c=u>>1,l=-7,h=r?i-1:0,p=r?-1:1,f=t[e+h];for(h+=p,s=f&(1<<-l)-1,f>>=-l,l+=o;l>0;s=256*s+t[e+h],h+=p,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=n;l>0;a=256*a+t[e+h],h+=p,l-=8);if(0===s)s=1-c;else{if(s===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),s-=c}return(f?-1:1)*a*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var a,o,u,c=8*s-i-1,l=(1<<c)-1,h=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?p/u:p*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(o=0,a=l):a+h>=1?(o=(e*u-1)*Math.pow(2,i),a+=h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+f]=255&o,f+=d,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;t[r+f]=255&a,f+=d,a/=256,c-=8);t[r+f-d]|=128*y}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){var n=r(0);r(7),r(8),r(28),r(18),r(17),r(80),r(33),r(13),r(1),r(32);var i=n.asn1,s=t.exports=n.pki=n.pki||{};s.pemToDer=function(t){var e=n.pem.decode(t)[0];if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(e.body)},s.privateKeyFromPem=function(t){var e=n.pem.decode(t)[0];if("PRIVATE KEY"!==e.type&&"RSA PRIVATE KEY"!==e.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var a=i.fromDer(e.body);return s.privateKeyFromAsn1(a)},s.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:i.toDer(s.privateKeyToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},s.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:i.toDer(t).getBytes()};return n.pem.encode(r,{maxline:e})}},function(t,e,r){function n(){o=String.fromCharCode(128),o+=s.util.fillString(String.fromCharCode(0),64),c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=!0}function i(t,e,r){for(var n,i,s,a,o,u,l,h,p,f,d,y,g,m=r.length();m>=64;){for(o=0;o<16;++o)e[o]=r.getInt32();for(;o<64;++o)n=((n=e[o-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=e[o-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[o]=n+e[o-7]+i+e[o-16]|0;for(u=t.h0,l=t.h1,h=t.h2,p=t.h3,f=t.h4,d=t.h5,y=t.h6,g=t.h7,o=0;o<64;++o)s=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),a=u&l|h&(u^l),n=g+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(y^f&(d^y))+c[o]+e[o],g=y,y=d,d=f,f=p+n>>>0,p=h,h=l,l=u,u=n+(i=s+a)>>>0;t.h0=t.h0+u|0,t.h1=t.h1+l|0,t.h2=t.h2+h|0,t.h3=t.h3+p|0,t.h4=t.h4+f|0,t.h5=t.h5+d|0,t.h6=t.h6+y|0,t.h7=t.h7+g|0,m-=64}}var s=r(0);r(6),r(1);var a=t.exports=s.sha256=s.sha256||{};s.md.sha256=s.md.algorithms.sha256=a,a.create=function(){u||n();var t=null,e=s.util.createBuffer(),r=new Array(64),a={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var r=a.messageLengthSize/4,n=0;n<r;++n)a.fullMessageLength.push(0);return e=s.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},a},a.start(),a.update=function(n,o){"utf8"===o&&(n=s.util.encodeUtf8(n));var u=n.length;a.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=a.fullMessageLength.length-1;c>=0;--c)a.fullMessageLength[c]+=u[1],u[1]=u[0]+(a.fullMessageLength[c]/4294967296>>>0),a.fullMessageLength[c]=a.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return e.putBytes(n),i(t,r,e),(e.read>2048||0===e.length())&&e.compact(),a},a.digest=function(){var n=s.util.createBuffer();n.putBytes(e.bytes());var u=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;n.putBytes(o.substr(0,a.blockLength-u));for(var c,l=8*a.fullMessageLength[0],h=0;h<a.fullMessageLength.length-1;++h)l+=(c=8*a.fullMessageLength[h+1])/4294967296>>>0,n.putInt32(l>>>0),l=c>>>0;n.putInt32(l);var p={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};i(p,r,n);var f=s.util.createBuffer();return f.putInt32(p.h0),f.putInt32(p.h1),f.putInt32(p.h2),f.putInt32(p.h3),f.putInt32(p.h4),f.putInt32(p.h5),f.putInt32(p.h6),f.putInt32(p.h7),f},a};var o=null,u=!1,c=null},function(t,e,r){(function(e){var n=r(0);r(1);var i=null;!n.util.isNodejs||n.options.usePureJavaScript||e.versions["node-webkit"]||(i=r(27)),(t.exports=n.prng=n.prng||{}).create=function(t){function e(t){if(o.pools[0].messageLength>=32)return s(),t();var e=32-o.pools[0].messageLength<<5;o.seedFile(e,function(e,r){if(e)return t(e);o.collect(r),s(),t()})}function r(){if(o.pools[0].messageLength>=32)return s();var t=32-o.pools[0].messageLength<<5;o.collect(o.seedFileSync(t)),s()}function s(){var t=o.plugin.md.create();t.update(o.pools[0].digest().getBytes()),o.pools[0].start();for(var e=1,r=1;r<32;++r)(e=31===e?2147483648:e<<2)%o.reseeds==0&&(t.update(o.pools[r].digest().getBytes()),o.pools[r].start());var n=t.digest().getBytes();t.start(),t.update(n);var i=t.digest().getBytes();o.key=o.plugin.formatKey(n),o.seed=o.plugin.formatSeed(i),o.reseeds=4294967295===o.reseeds?0:o.reseeds+1,o.generated=0}function a(t){var e=null;if("undefined"!=typeof window){var r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(e=function(t){return r.getRandomValues(t)})}var i=n.util.createBuffer();if(e)for(;i.length()<t;){var s=Math.max(1,Math.min(t-i.length(),65536)/4),a=new Uint32Array(Math.floor(s));try{e(a);for(h=0;h<a.length;++h)i.putInt32(a[h])}catch(t){if(!("undefined"!=typeof QuotaExceededError&&t instanceof QuotaExceededError))throw t}}if(i.length()<t)for(var o,u,c,l=Math.floor(65536*Math.random());i.length()<t;){u=16807*(65535&l),u+=(32767&(o=16807*(l>>16)))<<16,l=4294967295&(u=(2147483647&(u+=o>>15))+(u>>31));for(var h=0;h<3;++h)c=l>>>(h<<3),c^=Math.floor(256*Math.random()),i.putByte(String.fromCharCode(255&c))}return i.getBytes(t)}for(var o={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0},u=t.md,c=new Array(32),l=0;l<32;++l)c[l]=u.create();return o.pools=c,o.pool=0,o.generate=function(t,r){function i(h){if(h)return r(h);if(l.length()>=t)return r(null,l.getBytes(t));if(o.generated>1048575&&(o.key=null),null===o.key)return n.util.nextTick(function(){e(i)});var p=s(o.key,o.seed);o.generated+=p.length,l.putBytes(p),o.key=u(s(o.key,a(o.seed))),o.seed=c(s(o.key,o.seed)),n.util.setImmediate(i)}if(!r)return o.generateSync(t);var s=o.plugin.cipher,a=o.plugin.increment,u=o.plugin.formatKey,c=o.plugin.formatSeed,l=n.util.createBuffer();o.key=null,i()},o.generateSync=function(t){var e=o.plugin.cipher,i=o.plugin.increment,s=o.plugin.formatKey,a=o.plugin.formatSeed;o.key=null;for(var u=n.util.createBuffer();u.length()<t;){o.generated>1048575&&(o.key=null),null===o.key&&r();var c=e(o.key,o.seed);o.generated+=c.length,u.putBytes(c),o.key=s(e(o.key,i(o.seed))),o.seed=a(e(o.key,o.seed))}return u.getBytes(t)},i?(o.seedFile=function(t,e){i.randomBytes(t,function(t,r){if(t)return e(t);e(null,r.toString())})},o.seedFileSync=function(t){return i.randomBytes(t).toString()}):(o.seedFile=function(t,e){try{e(null,a(t))}catch(t){e(t)}},o.seedFileSync=a),o.collect=function(t){for(var e=t.length,r=0;r<e;++r)o.pools[o.pool].update(t.substr(r,1)),o.pool=31===o.pool?0:o.pool+1},o.collectInt=function(t,e){for(var r="",n=0;n<e;n+=8)r+=String.fromCharCode(t>>n&255);o.collect(r)},o.registerWorker=function(t){if(t===self)o.seedFile=function(t,e){function r(t){var n=t.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",r),e(n.forge.prng.err,n.forge.prng.bytes))}self.addEventListener("message",r),self.postMessage({forge:{prng:{needed:t}}})};else{var e=function(e){var r=e.data;r.forge&&r.forge.prng&&o.seedFile(r.forge.prng.needed,function(e,r){t.postMessage({forge:{prng:{err:e,bytes:r}}})})};t.addEventListener("message",e)}},o}}).call(e,r(4))},function(t,e,r){var n=r(0);r(1);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],a=function(t,e){return t<<e&65535|(65535&t)>>16-e},o=function(t,e){return(65535&t)>>e|t<<16-e&65535};t.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(t,e){"string"==typeof t&&(t=n.util.createBuffer(t)),e=e||128;var r,s=t,a=t.length(),o=e,u=Math.ceil(o/8),c=255>>(7&o);for(r=a;r<128;r++)s.putByte(i[s.at(r-1)+s.at(r-a)&255]);for(s.setAt(128-u,i[s.at(128-u)&c]),r=127-u;r>=0;r--)s.setAt(r,i[s.at(r+1)^s.at(r+u)]);return s};var u=function(t,e,r){var i,u,c,l,h=!1,p=null,f=null,d=null,y=[];for(t=n.rc2.expandKey(t,e),c=0;c<64;c++)y.push(t.getInt16Le());r?(i=function(t){for(c=0;c<4;c++)t[c]+=y[l]+(t[(c+3)%4]&t[(c+2)%4])+(~t[(c+3)%4]&t[(c+1)%4]),t[c]=a(t[c],s[c]),l++},u=function(t){for(c=0;c<4;c++)t[c]+=y[63&t[(c+3)%4]]}):(i=function(t){for(c=3;c>=0;c--)t[c]=o(t[c],s[c]),t[c]-=y[l]+(t[(c+3)%4]&t[(c+2)%4])+(~t[(c+3)%4]&t[(c+1)%4]),l--},u=function(t){for(c=3;c>=0;c--)t[c]-=y[63&t[(c+3)%4]]});var g=function(t){var e=[];for(c=0;c<4;c++){var n=p.getInt16Le();null!==d&&(r?n^=d.getInt16Le():d.putInt16Le(n)),e.push(65535&n)}l=r?0:63;for(var i=0;i<t.length;i++)for(var s=0;s<t[i][0];s++)t[i][1](e);for(c=0;c<4;c++)null!==d&&(r?d.putInt16Le(e[c]):e[c]^=d.getInt16Le()),f.putInt16Le(e[c])},m=null;return m={start:function(t,e){t&&"string"==typeof t&&(t=n.util.createBuffer(t)),h=!1,p=n.util.createBuffer(),f=e||new n.util.createBuffer,d=t,m.output=f},update:function(t){for(h||p.putBuffer(t);p.length()>=8;)g([[5,i],[1,u],[6,i],[1,u],[5,i]])},finish:function(t){var e=!0;if(r)if(t)e=t(8,p,!r);else{var n=8===p.length()?8:8-p.length();p.fillWithByte(n,n)}if(e&&(h=!0,m.update()),!r&&(e=0===p.length()))if(t)e=t(8,f,!r);else{var i=f.length(),s=f.at(i-1);s>i?e=!1:f.truncate(s)}return e}}};n.rc2.startEncrypting=function(t,e,r){var i=n.rc2.createEncryptionCipher(t,128);return i.start(e,r),i},n.rc2.createEncryptionCipher=function(t,e){return u(t,e,!0)},n.rc2.startDecrypting=function(t,e,r){var i=n.rc2.createDecryptionCipher(t,128);return i.start(e,r),i},n.rc2.createDecryptionCipher=function(t,e){return u(t,e,!1)}},function(t,e,r){function n(t,e,r){r||(r=i.md.sha1.create());for(var n="",s=Math.ceil(e/r.digestLength),a=0;a<s;++a){var o=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);r.start(),r.update(t+o),n+=r.digest().getBytes()}return n.substring(0,e)}var i=r(0);r(1),r(9),r(31);var s=t.exports=i.pkcs1=i.pkcs1||{};s.encode_rsa_oaep=function(t,e,r){var s,a,o,u;"string"==typeof r?(s=r,a=arguments[3]||void 0,o=arguments[4]||void 0):r&&(s=r.label||void 0,a=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(u=r.mgf1.md)),o?o.start():o=i.md.sha1.create(),u||(u=o);var c=Math.ceil(t.n.bitLength()/8),l=c-2*o.digestLength-2;if(e.length>l)throw(g=new Error("RSAES-OAEP input message length is too long.")).length=e.length,g.maxLength=l,g;s||(s=""),o.update(s,"raw");for(var h=o.digest(),p="",f=l-e.length,d=0;d<f;d++)p+="\0";var y=h.getBytes()+p+""+e;if(a){if(a.length!==o.digestLength){var g=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw g.seedLength=a.length,g.digestLength=o.digestLength,g}}else a=i.random.getBytes(o.digestLength);var m=n(a,c-o.digestLength-1,u),v=i.util.xorBytes(y,m,y.length),E=n(v,o.digestLength,u);return"\0"+i.util.xorBytes(a,E,a.length)+v},s.decode_rsa_oaep=function(t,e,r){var s,a,o;"string"==typeof r?(s=r,a=arguments[3]||void 0):r&&(s=r.label||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var u=Math.ceil(t.n.bitLength()/8);if(e.length!==u)throw(m=new Error("RSAES-OAEP encoded message length is invalid.")).length=e.length,m.expectedLength=u,m;if(void 0===a?a=i.md.sha1.create():a.start(),o||(o=a),u<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");s||(s=""),a.update(s,"raw");for(var c=a.digest().getBytes(),l=e.charAt(0),h=e.substring(1,a.digestLength+1),p=e.substring(1+a.digestLength),f=n(p,a.digestLength,o),d=n(i.util.xorBytes(h,f,h.length),u-a.digestLength-1,o),y=i.util.xorBytes(p,d,p.length),g=y.substring(0,a.digestLength),m="\0"!==l,v=0;v<a.digestLength;++v)m|=c.charAt(v)!==g.charAt(v);for(var E=1,C=a.digestLength,S=a.digestLength;S<y.length;S++){var b=y.charCodeAt(S),T=1&b^1;m|=b&(E?65534:0),C+=E&=T}if(m||1!==y.charCodeAt(C))throw new Error("Invalid RSAES-OAEP padding.");return y.substring(C+1)}},function(t,e,r){var n=r(0);r(1),r(30),r(9),function(){function e(t,e,n,i){return"workers"in n?s(t,e,n,i):r(t,e,n,i)}function r(t,e,r,n){var s=a(t,e),u=o(s.bitLength());"millerRabinTests"in r&&(u=r.millerRabinTests);var c=10;"maxBlockTime"in r&&(c=r.maxBlockTime),i(s,t,e,0,u,c,n)}function i(t,e,r,s,o,u,c){var h=+new Date;do{if(t.bitLength()>e&&(t=a(e,r)),t.isProbablePrime(o))return c(null,t);t.dAddOffset(l[s++%8],0)}while(u<0||+new Date-h<u);n.util.setImmediate(function(){i(t,e,r,s,o,u,c)})}function s(t,e,i,s){function o(){l=Math.max(1,l);for(var r=[],n=0;n<l;++n)r[n]=new Worker(f);for(var i=l,n=0;n<l;++n)r[n].addEventListener("message",function(n){if(!o){--i;var l=n.data;if(l.found){for(var f=0;f<r.length;++f)r[f].terminate();return o=!0,s(null,new c(l.prime,16))}u.bitLength()>t&&(u=a(t,e));var d=u.toString(16);n.target.postMessage({hex:d,workLoad:h}),u.dAddOffset(p,0)}});var o=!1}if("undefined"==typeof Worker)return r(t,e,i,s);var u=a(t,e),l=i.workers,h=i.workLoad||100,p=30*h/8,f=i.workerScript||"forge/prime.worker.js";if(-1===l)return n.util.estimateCores(function(t,e){t&&(e=2),l=e-1,o()});o()}function a(t,e){var r=new c(t,e),n=t-1;return r.testBit(n)||r.bitwiseTo(c.ONE.shiftLeft(n),p,r),r.dAddOffset(31-r.mod(h).byteValue(),0),r}function o(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}if(n.prime)t.exports=n.prime;else{var u=t.exports=n.prime=n.prime||{},c=n.jsbn.BigInteger,l=[6,4,2,4,2,4,6,2],h=new c(null);h.fromInt(30);var p=function(t,e){return t|e};u.generateProbablePrime=function(t,r,i){"function"==typeof r&&(i=r,r={});var s=(r=r||{}).algorithm||"PRIMEINC";"string"==typeof s&&(s={name:s}),s.options=s.options||{};var a=r.prng||n.random,o={nextBytes:function(t){for(var e=a.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}};if("PRIMEINC"===s.name)return e(t,o,s.options,i);throw new Error("Invalid prime generation algorithm: "+s.name)}}}()},function(t,e,r){function n(t,e,r,n){for(var i=[],s=0;s<t.length;s++)for(var a=0;a<t[s].safeBags.length;a++){var o=t[s].safeBags[a];void 0!==n&&o.type!==n||(null!==e?void 0!==o.attributes[e]&&o.attributes[e].indexOf(r)>=0&&i.push(o):i.push(o))}return i}function i(t){if(t.composed||t.constructed){for(var e=c.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}function s(t,e,r,n){if((e=l.fromDer(e,r)).tagClass!==l.Class.UNIVERSAL||e.type!==l.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<e.value.length;s++){var u=e.value[s],c={},p=[];if(!l.validate(u,f,c,p))throw(m=new Error("Cannot read ContentInfo.")).errors=p,m;var d={encrypted:!1},y=null,g=c.content.value[0];switch(l.derToOid(c.contentType)){case h.oids.data:if(g.tagClass!==l.Class.UNIVERSAL||g.type!==l.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");y=i(g).value;break;case h.oids.encryptedData:y=a(g,n),d.encrypted=!0;break;default:var m=new Error("Unsupported PKCS#12 contentType.");throw m.contentType=l.derToOid(c.contentType),m}d.safeBags=o(y,r,n),t.safeContents.push(d)}}function a(t,e){var r={},n=[];if(!l.validate(t,c.pkcs7.asn1.encryptedDataValidator,r,n))throw(a=new Error("Cannot read EncryptedContentInfo.")).errors=n,a;var s=l.derToOid(r.contentType);if(s!==h.oids.data){var a=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw a.oid=s,a}s=l.derToOid(r.encAlgorithm);var o=h.pbe.getCipher(s,r.encParameter,e),u=i(r.encryptedContentAsn1),p=c.util.createBuffer(u.value);if(o.update(p),!o.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return o.output.getBytes()}function o(t,e,r){if(!e&&0===t.length)return[];if((t=l.fromDer(t,e)).tagClass!==l.Class.UNIVERSAL||t.type!==l.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<t.value.length;i++){var s=t.value[i],a={},o=[];if(!l.validate(s,y,a,o))throw(g=new Error("Cannot read SafeBag.")).errors=o,g;var c={type:l.derToOid(a.bagId),attributes:u(a.bagAttributes)};n.push(c);var p,f,d=a.bagValue.value[0];switch(c.type){case h.oids.pkcs8ShroudedKeyBag:if(null===(d=h.decryptPrivateKeyInfo(d,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case h.oids.keyBag:try{c.key=h.privateKeyFromAsn1(d)}catch(t){c.key=null,c.asn1=d}continue;case h.oids.certBag:p=m,f=function(){if(l.derToOid(a.certId)!==h.oids.x509Certificate){var t=new Error("Unsupported certificate type, only X.509 supported.");throw t.oid=l.derToOid(a.certId),t}var r=l.fromDer(a.cert,e);try{c.cert=h.certificateFromAsn1(r,!0)}catch(t){c.cert=null,c.asn1=r}};break;default:throw(g=new Error("Unsupported PKCS#12 SafeBag type.")).oid=c.type,g}if(void 0!==p&&!l.validate(d,p,a,o)){var g=new Error("Cannot read PKCS#12 "+p.name);throw g.errors=o,g}f()}return n}function u(t){var e={};if(void 0!==t)for(var r=0;r<t.length;++r){var n={},i=[];if(!l.validate(t[r],g,n,i)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=i,s}var a=l.derToOid(n.oid);if(void 0!==h.oids[a]){e[h.oids[a]]=[];for(var o=0;o<n.values.length;++o)e[h.oids[a]].push(n.values[o].value)}}return e}var c=r(0);r(7),r(16),r(8),r(81),r(28),r(9),r(13),r(31),r(1),r(32);var l=c.asn1,h=c.pki,p=t.exports=c.pkcs12=c.pkcs12||{},f={name:"ContentInfo",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:l.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},d={name:"PFX",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,capture:"version"},f,{name:"PFX.macData",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:l.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:l.Class.UNIVERSAL,type:l.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:l.Class.UNIVERSAL,type:l.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:l.Class.UNIVERSAL,type:l.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},y={name:"SafeBag",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:l.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:l.Class.UNIVERSAL,type:l.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},g={name:"Attribute",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:l.Class.UNIVERSAL,type:l.Type.SET,constructed:!0,capture:"values"}]},m={name:"CertBag",tagClass:l.Class.UNIVERSAL,type:l.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:l.Class.UNIVERSAL,type:l.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:l.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:l.Class.UNIVERSAL,type:l.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};p.pkcs12FromAsn1=function(t,e,r){"string"==typeof e?(r=e,e=!0):void 0===e&&(e=!0);var a={},o=[];if(!l.validate(t,d,a,o))throw(f=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=f,f;var u={version:a.version.charCodeAt(0),safeContents:[],getBags:function(t){var e,r={};return"localKeyId"in t?e=t.localKeyId:"localKeyIdHex"in t&&(e=c.util.hexToBytes(t.localKeyIdHex)),void 0===e&&!("friendlyName"in t)&&"bagType"in t&&(r[t.bagType]=n(u.safeContents,null,null,t.bagType)),void 0!==e&&(r.localKeyId=n(u.safeContents,"localKeyId",e,t.bagType)),"friendlyName"in t&&(r.friendlyName=n(u.safeContents,"friendlyName",t.friendlyName,t.bagType)),r},getBagsByFriendlyName:function(t,e){return n(u.safeContents,"friendlyName",t,e)},getBagsByLocalKeyId:function(t,e){return n(u.safeContents,"localKeyId",t,e)}};if(3!==a.version.charCodeAt(0))throw(f=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=a.version.charCodeAt(0),f;if(l.derToOid(a.contentType)!==h.oids.data){var f=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw f.oid=l.derToOid(a.contentType),f}var y=a.content.value[0];if(y.tagClass!==l.Class.UNIVERSAL||y.type!==l.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(y=i(y),a.mac){var g=null,m=0,v=l.derToOid(a.macAlgorithm);switch(v){case h.oids.sha1:g=c.md.sha1.create(),m=20;break;case h.oids.sha256:g=c.md.sha256.create(),m=32;break;case h.oids.sha384:g=c.md.sha384.create(),m=48;break;case h.oids.sha512:g=c.md.sha512.create(),m=64;break;case h.oids.md5:g=c.md.md5.create(),m=16}if(null===g)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+v);var E=new c.util.ByteBuffer(a.macSalt),C="macIterations"in a?parseInt(c.util.bytesToHex(a.macIterations),16):1,S=p.generateKey(r,E,3,C,m,g),b=c.hmac.create();if(b.start(g,S),b.update(y.value),b.getMac().getBytes()!==a.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return s(u,y.value,e,r),u},p.toPkcs12Asn1=function(t,e,r,n){(n=n||{}).saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i,s=n.localKeyId;if(null!==s)s=c.util.hexToBytes(s);else if(n.generateLocalKeyId)if(e){var a=c.util.isArray(e)?e[0]:e;"string"==typeof a&&(a=h.certificateFromPem(a)),(B=c.md.sha1.create()).update(l.toDer(h.certificateToAsn1(a)).getBytes()),s=B.digest().getBytes()}else s=c.random.getBytes(20);var o=[];null!==s&&o.push(l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(h.oids.localKeyId).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.SET,!0,[l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,s)])])),"friendlyName"in n&&o.push(l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(h.oids.friendlyName).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.SET,!0,[l.create(l.Class.UNIVERSAL,l.Type.BMPSTRING,!1,n.friendlyName)])])),o.length>0&&(i=l.create(l.Class.UNIVERSAL,l.Type.SET,!0,o));var u=[],f=[];null!==e&&(f=c.util.isArray(e)?e:[e]);for(var d=[],y=0;y<f.length;++y){"string"==typeof(e=f[y])&&(e=h.certificateFromPem(e));var g=0===y?i:void 0,m=h.certificateToAsn1(e),v=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(h.oids.certBag).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(h.oids.x509Certificate).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,l.toDer(m).getBytes())])])]),g]);d.push(v)}if(d.length>0){var E=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,d),C=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(h.oids.data).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,l.toDer(E).getBytes())])]);u.push(C)}var S=null;if(null!==t){var b=h.wrapRsaPrivateKey(h.privateKeyToAsn1(t));S=null===r?l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(h.oids.keyBag).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[b]),i]):l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(h.oids.pkcs8ShroudedKeyBag).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[h.encryptPrivateKeyInfo(b,r,n)]),i]);var T=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[S]),A=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(h.oids.data).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,l.toDer(T).getBytes())])]);u.push(A)}var I,w=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,u);if(n.useMac){var B=c.md.sha1.create(),R=new c.util.ByteBuffer(c.random.getBytes(n.saltSize)),_=n.count,t=p.generateKey(r,R,3,_,20),N=c.hmac.create();N.start(B,t),N.update(l.toDer(w).getBytes());var L=N.getMac();I=l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(h.oids.sha1).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.NULL,!1,"")]),l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,L.getBytes())]),l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,R.getBytes()),l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(_).getBytes())])}return l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.INTEGER,!1,l.integerToDer(3).getBytes()),l.create(l.Class.UNIVERSAL,l.Type.SEQUENCE,!0,[l.create(l.Class.UNIVERSAL,l.Type.OID,!1,l.oidToDer(h.oids.data).getBytes()),l.create(l.Class.CONTEXT_SPECIFIC,0,!0,[l.create(l.Class.UNIVERSAL,l.Type.OCTETSTRING,!1,l.toDer(w).getBytes())])]),I])},p.generateKey=c.pbe.generatePkcs12Key},function(t,e,r){var n=r(0);r(7),r(1);var i=n.asn1,s=t.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=s;var a={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s.contentInfoValidator=a;var o={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(o)},s.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(o)};var u={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};s.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[u]}]},s.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(t,e,r){var n=r(0);r(83),t.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},function(t,e,r){var n=r(0);r(1),n.mgf=n.mgf||{},(t.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(t){return{generate:function(e,r){for(var i=new n.util.ByteBuffer,s=Math.ceil(r/t.digestLength),a=0;a<s;a++){var o=new n.util.ByteBuffer;o.putInt32(a),t.start(),t.update(e+o.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-r),i.getBytes()}}}},function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,r){if(t&&a.isObject(t)&&t instanceof n)return t;var i=new n;return i.parse(t,e,r),i}var s=r(85),a=r(87);e.parse=i,e.resolve=function(t,e){return i(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?i(t,!1,!0).resolveObject(e):e},e.format=function(t){return a.isString(t)&&(t=i(t)),t instanceof n?t.format():n.prototype.format.call(t)},e.Url=n;var o=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(l),p=["'"].concat(h),f=["%","/","?",";","#"].concat(p),d=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},C=r(88);n.prototype.parse=function(t,e,r){if(!a.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=-1!==n&&n<t.indexOf("#")?"?":"#",u=t.split(i),l=/\\/g;u[0]=u[0].replace(l,"/");var h=t=u.join(i);if(h=h.trim(),!r&&1===t.split("#").length){var S=c.exec(h);if(S)return this.path=h,this.href=h,this.pathname=S[1],S[2]?(this.search=S[2],this.query=e?C.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=o.exec(h);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,h=h.substr(b.length)}if(r||b||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===h.substr(0,2);!A||b&&v[b]||(h=h.substr(2),this.slashes=!0)}if(!v[b]&&(A||b&&!E[b])){for(var I=-1,w=0;w<d.length;w++)-1!==(_=h.indexOf(d[w]))&&(-1===I||_<I)&&(I=_);var B,R;-1!==(R=-1===I?h.lastIndexOf("@"):h.lastIndexOf("@",I))&&(B=h.slice(0,R),h=h.slice(R+1),this.auth=decodeURIComponent(B)),I=-1;for(w=0;w<f.length;w++){var _=h.indexOf(f[w]);-1!==_&&(-1===I||_<I)&&(I=_)}-1===I&&(I=h.length),this.host=h.slice(0,I),h=h.slice(I),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var L=this.hostname.split(/\./),w=0,U=L.length;w<U;w++){var P=L[w];if(P&&!P.match(y)){for(var k="",O=0,D=P.length;O<D;O++)P.charCodeAt(O)>127?k+="x":k+=P[O];if(!k.match(y)){var x=L.slice(0,w),V=L.slice(w+1),K=P.match(g);K&&(x.push(K[1]),V.unshift(K[2])),V.length&&(h="/"+V.join(".")+h),this.hostname=x.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=s.toASCII(this.hostname));var q=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+q,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!m[T])for(var w=0,U=p.length;w<U;w++){var M=p[w];if(-1!==h.indexOf(M)){var F=encodeURIComponent(M);F===M&&(F=escape(M)),h=h.split(M).join(F)}}var G=h.indexOf("#");-1!==G&&(this.hash=h.substr(G),h=h.slice(0,G));var $=h.indexOf("?");if(-1!==$?(this.search=h.substr($),this.query=h.substr($+1),e&&(this.query=C.parse(this.query)),h=h.slice(0,$)):e&&(this.search="",this.query={}),h&&(this.pathname=h),E[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var q=this.pathname||"",z=this.search||"";this.path=q+z}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(s=C.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||E[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),o=o.replace("#","%23"),e+i+r+o+n},n.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(a.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,i=Object.keys(this),s=0;s<i.length;s++){var o=i[s];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=t[l])}return E[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!E[t.protocol]){for(var h=Object.keys(t),p=0;p<h.length;p++){var f=h[p];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{for(T=(t.pathname||"").split("/");T.length&&!(t.host=T.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==T[0]&&T.unshift(""),T.length<2&&T.unshift(""),r.pathname=T.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",y=r.search||"";r.path=d+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),C=m||g||r.host&&t.pathname,S=C,b=r.pathname&&r.pathname.split("/")||[],T=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!E[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(""===b[0]?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===T[0]?T[0]=t.host:T.unshift(t.host)),t.host=null),C=C&&(""===T[0]||""===b[0])),m)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=T;else if(T.length)b||(b=[]),b.pop(),b=b.concat(T),r.search=t.search,r.query=t.query;else if(!a.isNullOrUndefined(t.search))return A&&(r.hostname=r.host=b.shift(),(N=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=N.shift(),r.host=r.hostname=N.shift())),r.search=t.search,r.query=t.query,a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=b.slice(-1)[0],w=(r.host||t.host||b.length>1)&&("."===I||".."===I)||""===I,B=0,R=b.length;R>=0;R--)"."===(I=b[R])?b.splice(R,1):".."===I?(b.splice(R,1),B++):B&&(b.splice(R,1),B--);if(!C&&!S)for(;B--;B)b.unshift("..");!C||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),w&&"/"!==b.join("/").substr(-1)&&b.push("");var _=""===b[0]||b[0]&&"/"===b[0].charAt(0);if(A){r.hostname=r.host=_?"":b.length?b.shift():"";var N=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");N&&(r.auth=N.shift(),r.host=r.hostname=N.shift())}return(C=C||r.host&&b.length)&&!_&&b.unshift(""),b.length?r.pathname=b.join("/"):(r.pathname=null,r.path=null),a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=u.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){(function(t,n){var i;!function(s){function a(t){throw new RangeError(N[t])}function o(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function u(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+o((t=t.replace(_,".")).split("."),e).join(".")}function c(t){for(var e,r,n=[],i=0,s=t.length;i<s;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<s?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function l(t){return o(t,function(t){var e="";return t>65535&&(e+=P((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=P(t)}).join("")}function h(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:E}function p(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function f(t,e,r){var n=0;for(t=r?U(t/T):t>>1,t+=U(t/e);t>L*S>>1;n+=E)t=U(t/L);return U(n+(L+1)*t/(t+b))}function d(t){var e,r,n,i,s,o,u,c,p,d,y=[],g=t.length,m=0,b=I,T=A;for((r=t.lastIndexOf(w))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&a("not-basic"),y.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<g;){for(s=m,o=1,u=E;i>=g&&a("invalid-input"),((c=h(t.charCodeAt(i++)))>=E||c>U((v-m)/o))&&a("overflow"),m+=c*o,p=u<=T?C:u>=T+S?S:u-T,!(c<p);u+=E)o>U(v/(d=E-p))&&a("overflow"),o*=d;T=f(m-s,e=y.length+1,0==s),U(m/e)>v-b&&a("overflow"),b+=U(m/e),m%=e,y.splice(m++,0,b)}return l(y)}function y(t){var e,r,n,i,s,o,u,l,h,d,y,g,m,b,T,B=[];for(g=(t=c(t)).length,e=I,r=0,s=A,o=0;o<g;++o)(y=t[o])<128&&B.push(P(y));for(n=i=B.length,i&&B.push(w);n<g;){for(u=v,o=0;o<g;++o)(y=t[o])>=e&&y<u&&(u=y);for(u-e>U((v-r)/(m=n+1))&&a("overflow"),r+=(u-e)*m,e=u,o=0;o<g;++o)if((y=t[o])<e&&++r>v&&a("overflow"),y==e){for(l=r,h=E;d=h<=s?C:h>=s+S?S:h-s,!(l<d);h+=E)T=l-d,b=E-d,B.push(P(p(d+T%b,0))),l=U(T/b);B.push(P(p(l,0))),s=f(r,m,n==i),r=0,++n}++r,++e}return B.join("")}"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var g="object"==typeof n&&n;var m,v=2147483647,E=36,C=1,S=26,b=38,T=700,A=72,I=128,w="-",B=/^xn--/,R=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=E-C,U=Math.floor,P=String.fromCharCode;m={version:"1.4.1",ucs2:{decode:c,encode:l},decode:d,encode:y,toASCII:function(t){return u(t,function(t){return R.test(t)?"xn--"+y(t):t})},toUnicode:function(t){return u(t,function(t){return B.test(t)?d(t.slice(4).toLowerCase()):t})}},void 0!==(i=function(){return m}.call(e,r,e,t))&&(t.exports=i)}()}).call(e,r(86)(t),r(10))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(89),e.encode=e.stringify=r(90)},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,s){e=e||"&",r=r||"=";var a={};if("string"!=typeof t||0===t.length)return a;var o=/\+/g;t=t.split(e);var u=1e3;s&&"number"==typeof s.maxKeys&&(u=s.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,p,f,d,y=t[l].replace(o,"%20"),g=y.indexOf(r);g>=0?(h=y.substr(0,g),p=y.substr(g+1)):(h=y,p=""),f=decodeURIComponent(h),d=decodeURIComponent(p),n(a,f)?i(a[f])?a[f].push(d):a[f]=[a[f],d]:a[f]=d}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,o){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?n(a(t),function(a){var o=encodeURIComponent(i(a))+r;return s(t[a])?n(t[a],function(t){return o+encodeURIComponent(i(t))}).join(e):o+encodeURIComponent(i(t[a]))}).join(e):o?encodeURIComponent(i(o))+r+encodeURIComponent(i(t)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(11),i=r(19),s=n.sha256,a=n.util;e.stringToHash=(async t=>{const e=s.create();return e.update(t),e.digest().toHex()}),e.encryptString=(async(t,e)=>{const r=s.create();r.update(t,"utf8");const n=e.encrypt(r);return a.encode64(n)}),e.signString=(async(t,e)=>{const r=s.create();r.update(t,"utf8");const n=e.sign(r);return a.encode64(n)}),e.verifyString=(async(t,e,r)=>{const n=s.create();n.update(t,"utf8");try{const t=a.decode64(r);return e.verify(n,t)}catch(t){return i.default.debug(t),!1}})},function(t,e,r){var n,i;!function(s,a){"use strict";void 0!==(i="function"==typeof(n=a)?n.call(e,r,e,t):n)&&(t.exports=i)}(0,function(){"use strict";function t(t,e){var r=t[e];if("function"==typeof r.bind)return r.bind(t);try{return Function.prototype.bind.call(r,t)}catch(e){return function(){return Function.prototype.apply.apply(r,[t,arguments])}}}function e(e){return"debug"===e&&(e="log"),typeof console!==o&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):a)}function r(t,e){for(var r=0;r<u.length;r++){var n=u[r];this[n]=r<t?a:this.methodFactory(n,t,e)}this.log=this.debug}function n(t,e,n){return function(){typeof console!==o&&(r.call(this,e,n),this[t].apply(this,arguments))}}function i(t,r,i){return e(t)||n.apply(this,arguments)}function s(t,e,n){function s(t){var e=(u[t]||"silent").toUpperCase();if(typeof window!==o){try{return void(window.localStorage[h]=e)}catch(t){}try{window.document.cookie=encodeURIComponent(h)+"="+e+";"}catch(t){}}}function a(){var t;if(typeof window!==o){try{t=window.localStorage[h]}catch(t){}if(typeof t===o)try{var e=window.document.cookie,r=e.indexOf(encodeURIComponent(h)+"=");-1!==r&&(t=/^([^;]+)/.exec(e.slice(r))[1])}catch(t){}return void 0===l.levels[t]&&(t=void 0),t}}var c,l=this,h="loglevel";t&&(h+=":"+t),l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=n||i,l.getLevel=function(){return c},l.setLevel=function(e,n){if("string"==typeof e&&void 0!==l.levels[e.toUpperCase()]&&(e=l.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(c=e,!1!==n&&s(e),r.call(l,e,t),typeof console===o&&e<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(t){a()||l.setLevel(t,!1)},l.enableAll=function(t){l.setLevel(l.levels.TRACE,t)},l.disableAll=function(t){l.setLevel(l.levels.SILENT,t)};var p=a();null==p&&(p=null==e?"WARN":e),l.setLevel(p,!1)}var a=function(){},o="undefined",u=["trace","debug","info","warn","error"],c=new s,l={};c.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=l[t];return e||(e=l[t]=new s(t,c.getLevel(),c.methodFactory)),e};var h=typeof window!==o?window.log:void 0;return c.noConflict=function(){return typeof window!==o&&window.log===c&&(window.log=h),c},c})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ucfirst=(t=>t.charAt(0).toUpperCase()+t.slice(1))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(95);class i{constructor(){this.limiters={}}create(t,e="GET"){const r=`${t}${e}`;if(this.limiters[r])return this.limiters[r].limiter;let i=3;switch(e){case"PUT":i=2;break;case"POST":case"DELETE":i=5;break;case"GET":case"LIST":i=3;break;default:throw new Error("Invalid method given")}return this.limiters[r]={limiter:new n.default(i,3750),method:e,endpoint:t},this.limiters[r].limiter}getLimiter(t,e="GET"){const r=`${t}${e}`;return!!this.limiters[r]&&this.limiters[r]}removeLimiter(t,e="GET"){const r=`${t}${e}`;return!!this.limiters[r]&&(delete this.limiters[r],!0)}getAllLimiters(){return this.limiters}clearLimiters(){this.limiters={}}}e.default=i},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const n=r(19);class i{constructor(e,r){this.max_requests=3,this.interval=3e3,this.requests=0,this.lastRequest=0,this.timer=!1,this.queue=[],this.wrapCallable=(async e=>{let r=null,n=null;const i=new t((t,e)=>{r=t,n=e});return this.queue.push({resolve:r,reject:n,callable:e}),i}),this.check=(()=>{if((!1===this.timer||this.queue.length>0)&&this.setTimer(),this.queue.length>0&&this.requests<this.max_requests){for(let t=this.requests;t<this.max_requests;t++){const t=this.queue.shift();if(!t)break;this.requests++,this.lastRequest=Date.now();try{const e=t.callable();e.then&&e.catch(n.default.error),t.resolve(e)}catch(e){t.reject(e)}}this.check()}0===this.queue.length&&this.clearTimer()}),this.setTimer=(()=>{!1===this.timer&&(this.timer=setInterval(()=>{0===this.queue.length&&this.clearTimer(),this.requests=0,this.check()},this.interval))}),this.clearTimer=(()=>{!1!==this.timer&&(clearInterval(this.timer),this.timer=!1)}),this.run=(async t=>{const e=this.wrapCallable(t);return this.check(),e}),this.max_requests=e,this.interval=r}}e.default=i}).call(e,r(3))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const n=r(34),i=r(98);e.ALLOWED_ENVIROMENTS=["SANDBOX","PRODUCTION"],e.URL_ENVIROMENTS={SANDBOX:"https://sandbox.public.api.bunq.com",PRODUCTION:"https://api.bunq.com"};class s{constructor(t,e){this.apiKey=null,this.encryptionKey=!1,this.allowdIps=[],this.publicKey=null,this.publicKeyPem=null,this.privateKey=null,this.privateKeyPem=null,this.serverPublicKey=null,this.serverPublicKeyPem=null,this.installCreated=null,this.installUpdated=null,this.installToken=null,this.deviceId=null,this.sessionToken=null,this.sessionTokenId=null,this.sessionId=null,this.sessionExpiryTime=null,this.userInfo={},this.decryptSession=(async t=>{const e=await this.asyncStorageGet(this.storageIvLocation);if(!1===this.encryptionKey)throw new Error("No encryption key is set, failed to decrypt session");const r=await i.decryptString(t,this.encryptionKey,e);return JSON.parse(r)}),this.encryptSession=(async t=>{const e=await i.encryptString(t,this.encryptionKey),r=this.asyncStorageSet(this.storageIvLocation,e.iv),n=this.asyncStorageSet(this.storageKeyLocation,e.encryptedString);return await r,await n,!0}),this.storeEncryptedData=(async(t,e)=>{const r=await i.encryptString(JSON.stringify(t),this.encryptionKey),n=this.asyncStorageSet(`${e}_IV`,r.iv),s=this.asyncStorageSet(e,r.encryptedString);return await n,await s,!0}),this.loadEncryptedData=(async(t,e=null)=>{e=null===e?`${t}_IV`:e;const r=await this.asyncStorageGet(t),n=await this.asyncStorageGet(e);if(void 0===r||null===r||void 0===n||null===n)return!1;if(!1===this.encryptionKey)throw new Error("No encryption key is set, failed to decrypt data");const s=await i.decryptString(r,this.encryptionKey,n);return JSON.parse(s)}),this.asyncStorageRemove=(async(t,e=!1)=>{try{return await this.storageInterface.remove(t)}catch(t){if(e)return;throw t}}),this.asyncStorageGet=(async(t,e=!1)=>{try{return await this.storageInterface.get(t)}catch(t){if(e)return;throw t}}),this.asyncStorageSet=(async(t,e,r=!1)=>{try{return await this.storageInterface.set(t,e)}catch(t){if(r)return;throw t}}),this.storageInterface=t,this.logger=e,this.environmentType="SANDBOX",this.storageKeyLocation=`BUNQJSCLIENT_${this.environment}_SESSION`,this.storageIvLocation=`BUNQJSCLIENT_${this.environment}_IV`}async setup(t,e=[],r="SANDBOX",n=!1){return this.apiKey=t,this.allowdIps=e,this.environmentType=r,this.encryptionKey=n,!1!==n&&(!1===await this.loadSession()&&!1!==this.encryptionKey&&await this.setupKeypair(),!0)}async setupKeypair(e=!1,r=2048,i=!1){if(!1===e&&null!==this.publicKey&&null!==this.privateKey)return!0;if(void 0!==t&&"true"===t.env.ENV_CI&&!1===i)this.publicKeyPem=t.env.CI_PUBLIC_KEY_PEM,this.privateKeyPem=t.env.CI_PRIVATE_KEY_PEM,this.publicKey=await n.publicKeyFromPem(this.publicKeyPem),this.privateKey=await n.privateKeyFromPem(this.privateKeyPem);else{const t=await n.createKeyPair(r),{publicKey:e,privateKey:i}=await n.keyPairToPem(t);this.publicKey=t.publicKey,this.privateKey=t.privateKey,this.publicKeyPem=e,this.privateKeyPem=i}return!0}async loadSession(){this.logger.debug(" === Loading session data === ");const t=await this.asyncStorageGet(this.storageKeyLocation);if(void 0===t||null===t)return this.logger.debug("No stored session found"),!1;let e;try{e=await this.decryptSession(t)}catch(t){return this.logger.debug("Failed to decrypt session"),this.logger.debug(t),!1}if(!1!==this.apiKey&&null!==this.apiKey&&e.apiKey!==this.apiKey)return this.logger.debug("Api key changed or is different (api key could be empty)"),!1;if(e.environment!==this.environment)return this.logger.debug("Environment changed, delete existing session"),await this.destroySession(),!1;if(this.environment=e.environment,this.publicKeyPem=e.publicKeyPem,this.privateKeyPem=e.privateKeyPem,this.serverPublicKeyPem=e.serverPublicKeyPem,null!==this.privateKeyPem&&(this.privateKey=await n.privateKeyFromPem(e.privateKeyPem)),null!==this.publicKeyPem&&(this.publicKey=await n.publicKeyFromPem(e.publicKeyPem)),null!==this.serverPublicKeyPem&&(this.serverPublicKey=await n.publicKeyFromPem(e.serverPublicKeyPem)),this.installToken=e.installToken,this.installCreated=e.installCreated,this.installUpdated=e.installUpdated,this.sessionId=e.sessionId,this.sessionToken=e.sessionToken,this.sessionExpiryTime=new Date(e.sessionExpiryTime),this.deviceId=e.deviceId,this.userInfo=e.userInfo,this.logger.debug(`sessionId: ${e.sessionId}`),this.logger.debug(`installCreated: ${e.installCreated}`),this.logger.debug(`installUpdated: ${e.installUpdated}`),this.logger.debug(`sessionExpiryTime: ${e.sessionExpiryTime}`),this.logger.debug(`deviceId: ${e.deviceId}`),this.verifyInstallation()&&!this.verifySessionInstallation()){const t=this.apiKey+"";return await this.destroySession(),this.apiKey=t,!1}try{this.logger.debug(`sessionToken: ${null===e.sessionToken?null:e.sessionToken.substring(0,5)}`),this.logger.debug(`installToken: ${null===e.installToken?null:e.installToken.substring(0,5)}`)}catch(t){}return!0}async storeSession(){const t={environment:this.environment,apiKey:this.apiKey,publicKeyPem:this.publicKeyPem,privateKeyPem:this.privateKeyPem,serverPublicKeyPem:this.serverPublicKeyPem,installUpdated:this.installUpdated,installCreated:this.installCreated,installToken:this.installToken,sessionId:this.sessionId,sessionToken:this.sessionToken,sessionExpiryTime:this.sessionExpiryTime,userInfo:this.userInfo,deviceId:this.deviceId},e=JSON.stringify(t);return await this.encryptSession(e)}async destroySession(){return this.apiKey=null,this.publicKey=null,this.publicKeyPem=null,this.privateKey=null,this.privateKeyPem=null,this.serverPublicKey=null,this.serverPublicKeyPem=null,this.installUpdated=null,this.installCreated=null,this.installToken=null,this.deviceId=null,this.userInfo={},this.sessionId=null,this.sessionToken=null,this.sessionTokenId=null,this.sessionExpiryTime=null,await this.asyncStorageRemove(this.storageKeyLocation)}verifyInstallation(){this.logger.debug(" === Testing installation === ");const t=null!==this.serverPublicKey&&null!==this.installToken;return this.logger.debug("Installation valid: "+t),this.logger.debug("this.serverPublicKey = "+this.serverPublicKey),this.logger.debug(`this.installToken = ${null===this.installToken?null:this.installToken.substring(0,5)}`),t}verifyDeviceInstallation(){this.logger.debug(" === Testing device installation === ");const t=null!==this.deviceId;return this.logger.debug("Device valid: "+t),this.logger.debug("this.deviceId: "+this.deviceId),t}verifySessionInstallation(){if(this.logger.debug(" === Testing session installation === "),this.logger.debug(`this.sessionId = ${this.sessionId}`),this.logger.debug(`this.sessionToken = ${null===this.sessionToken?null:this.sessionToken.substring(0,5)}`),null===this.sessionId)return this.logger.debug("Session invalid: sessionId null"),!1;const t=new Date;return this.sessionExpiryTime.getTime()<=t.getTime()?(this.logger.debug("Session invalid: expired"),this.logger.debug("this.sessionExpiryTime.getTime() = "+this.sessionExpiryTime.getTime()),this.logger.debug("currentTime.getTime() = "+t.getTime()),!1):(this.logger.debug("Session valid: true"),!0)}set environmentType(t){if(e.ALLOWED_ENVIROMENTS.includes(t))return this.environment=t,void(this.environmentUrl=e.URL_ENVIROMENTS[this.environment]);throw new Error("Invalid enviroment given. "+JSON.stringify(e.ALLOWED_ENVIROMENTS))}}e.default=s}).call(e,r(4))},function(t,e,r){(function(e,r){function n(t){this.name="ErrorList",this.message=t,this.stack=(new Error).stack,this.errors=[],Object.defineProperty(this,"length",{get:function(){return this.errors.length}})}async function i(t){return new e((e,r)=>{setTimeout(e,t)})}async function s(t,...r){return new e((e,n)=>{t(...r,(t,r)=>{if(t)return n(t);e(r)})})}function a(t){return async(...e)=>s(t,...e)}function o(t,e){throw t}function u(t,e){}async function c(t,r=1/0,i=0){return new e((e,s)=>{function a(t){h.length>c||(l.push(t),l.length===u&&e(l))}function o(t){h.length>c||l.length>=u||(h.add(t),h.length>c&&s(h))}const u=Math.min(t.length,r),c=Math.min(t.length-u,i),l=[],h=new n("too many failures");t.forEach(t=>t.then(a).catch(o))})}async function l(t,r=0){return new e((e,i)=>{const s=[],a=new n("too many failures"),o=()=>u+a.length===t.length;let u=0;t.forEach((t,n)=>{t.then(function(t){a.length>r||(s[n]=t,u++,o()&&e(s))}).catch(function(t){a.length>r||(s[n]=void 0,a.add(t),a.length>r?i(a):o()&&e(s))})})})}/**
 * The async/await utility for browsers and Node.js.
 *
 * (
 * [examples](https://github.com/hunterloftis/awaiting#examples) -
 * [github](https://github.com/hunterloftis/awaiting) -
 * [npm](https://www.npmjs.com/package/awaiting) -
 * [suggestions / bug reports](https://github.com/hunterloftis/awaiting/issues) -
 * [installation](https://github.com/hunterloftis/awaiting#installation) -
 * [motivation](https://github.com/hunterloftis/awaiting#motivation)
 * )
 *
 * **`$ yarn add awaiting`**
 *
 * **`$ npm install awaiting --save`**
 *
 * **`<script src='awaiting.js'>`**
 *
 * [![Build Status](https://travis-ci.org/hunterloftis/awaiting.svg?branch=master)](https://travis-ci.org/hunterloftis/awaiting)
 * [![Coverage Status](https://coveralls.io/repos/hunterloftis/awaiting/badge.svg?branch=master)](https://coveralls.io/r/hunterloftis/awaiting?branch=master)
 *
 * @license MIT
 * @file
 * @example
 *
 * const a = require('awaiting')
 * // ...
 * await a.delay(1000)
 */
t.exports={delay:i,time:async function(t){const e=Math.max(t.getTime()-Date.now(),0);return await i(e)},limit:async function(t,r){return new e((e,n)=>{function s(){return!!o||(o=!0,!1)}const a="number"==typeof r?i(r):r;let o=!1;t.then(t=>{s()||e(t)}).catch(t=>{s()||n(t)}),a.then(t=>{s()||n(new Error("limit exceeded"))}).catch(t=>{s()||n(t)})})},event:async function(t,r){return new e((e,n)=>{t.once(r,(...t)=>{e([...t])})})},callback:s,single:async function(t,e=0){return(await c(t,1,e))[0]},set:c,list:l,object:async function(t,e=0){const r=Object.keys(t).filter(e=>"function"==typeof t[e].then),n=r.map(e=>t[e]),i=await l(n,e),s=Object.assign({},t);return i.forEach((t,e)=>{const n=r[e];s[n]=t}),s},map:async function(t,r,n){return new e((e,i)=>{function s(){if(l===t.length&&0===c)return e(u);for(;c<r&&l<t.length;)n(t[l]).then(a(l)).catch(o),l++,c++}function a(t){return e=>{c--,u[t]=e,s()}}function o(t){c--,l=1/0,i(t)}const u=[];let c=0,l=0;s()})},failure:async function(t){return new e((e,r)=>{t.then(()=>e(void 0)).catch(e)})},success:async function(t){return new e((e,r)=>{t.then(e).catch(t=>e(void 0))})},result:async function(t){return new e((e,r)=>{t.then(e).catch(t=>e(t))})},awaited:a,awaitable:a,throw:function(){r.removeListener("unhandledRejection",o),r.removeListener("unhandledRejection",u),r.on("unhandledRejection",o)},swallow:function(){r.removeListener("unhandledRejection",o),r.removeListener("unhandledRejection",u),r.on("unhandledRejection",u)},ErrorList:n},n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.prototype.add=function(t){this.errors.push(t)},n.prototype.get=function(t){return this.errors[t]},n.prototype[Symbol.iterator]=function*(){let t=0;for(;t<this.errors.length;)yield this.errors[t],t++}}).call(e,r(3),r(4))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const n=r(11),i=n.cipher,s=n.util;e.encryptString=(async(t,e)=>{const r=n.random.getBytesSync(16),a=s.hexToBytes(e),o=i.createCipher("AES-CBC",a),u=s.createBuffer(t,"utf8");return o.start({iv:r}),o.update(u),o.finish(),{iv:s.bytesToHex(r),key:e,encryptedString:o.output.toHex()}}),e.decryptString=(async(e,r,n)=>{const a=s.hexToBytes(e),o=s.createBuffer(a,"raw"),u=s.hexToBytes(r),c=s.hexToBytes(n),l=i.createDecipher("AES-CBC",u);if(l.start({iv:c}),l.update(o),!l.finish())throw new Error("Failed to decrypt string");const h=l.output.getBytes();return new t(h,"binary").toString("utf8")})}).call(e,r(26).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(100),i=r(101),s=r(102),a=r(103),o=r(104),u=r(105),c=r(106),l=r(107),h=r(108),p=r(109),f=r(110),d=r(111),y=r(112),g=r(113),m=r(114),v=r(115),E=r(116),C=r(117),S=r(118),b=r(119);e.default=(t=>({attachmentContent:new n.default(t),bunqMeTabs:new i.default(t),card:new s.default(t),cardCvc2:new b.default(t),customerStatementExport:new a.default(t),customerStatementExportContent:new o.default(t),deviceRegistration:new u.default(t),draftPayment:new c.default(t),installation:new l.default(t),masterCardAction:new h.default(t),monetaryAccount:new p.default(t),monetaryAccountBank:new f.default(t),payment:new d.default(t),paymentBatch:new y.default(t),requestInquiry:new g.default(t),requestInquiryBatch:new m.default(t),requestResponse:new v.default(t),sessionServer:new C.default(t),sandboxUser:new E.default(t),user:new S.default(t)}))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(e,r={base64:!0}){const n=this.ApiAdapter.RequestLimitFactory.create("/attachment-public/content","GET"),i=await n.run(async()=>this.ApiAdapter.get(`/v1/attachment-public/${e}/content`,{},{axiosOptions:{responseType:"blob"}}));return!0===r.base64?new t(t=>{const e=new FileReader;e.readAsDataURL(i),e.onload=(()=>t(e.result))}):i}}e.default=r}).call(e,r(3))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e,r,n={}){const i=this.ApiAdapter.RequestLimitFactory.create("/bunqme-tab","GET");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/bunqme-tab/${r}`))).Response[0]}async list(t,e,r={count:50,newer_id:!1,older_id:!1}){const n={};void 0!==r.count&&(n.count=r.count),!1!==r.newer_id&&void 0!==r.newer_id&&(n.newer_id=r.newer_id),!1!==r.older_id&&void 0!==r.older_id&&(n.older_id=r.older_id);const i=this.ApiAdapter.RequestLimitFactory.create("/bunqme-tab","LIST");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/bunqme-tab`,{},{axiosOptions:{params:n}}))).Response}async post(t,e,r,n,i={}){const s={description:r,amount_inquired:n};i.redirect_url&&(s.redirect_url=i.redirect_url);const a=this.ApiAdapter.RequestLimitFactory.create("/bunqme-tab","POST");return(await a.run(async()=>this.ApiAdapter.post(`/v1/user/${t}/monetary-account/${e}/bunqme-tab`,{bunqme_tab_entry:s}))).Response}async put(t,e,r,n="CANCELLED"){const i=this.ApiAdapter.RequestLimitFactory.create("/bunqme-tab","PUT");return(await i.run(async()=>this.ApiAdapter.put(`/v1/user/${t}/monetary-account/${e}/bunqme-tab/${r}`,{status:n}))).Response}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e,r={}){const n=this.ApiAdapter.RequestLimitFactory.create("/card","GET");return(await n.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/card/${e}`))).Response}async list(t,e={count:25,newer_id:!1,older_id:!1}){const r={};void 0!==e.count&&(r.count=e.count),!1!==e.newer_id&&void 0!==e.newer_id&&(r.newer_id=e.newer_id),!1!==e.older_id&&void 0!==e.older_id&&(r.older_id=e.older_id);const n=this.ApiAdapter.RequestLimitFactory.create("/card","LIST");return(await n.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/card`,{},{axiosOptions:{params:r}}))).Response}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async post(t,e,r,n,i,s={regional_format:"EUROPEAN"}){const a=this.ApiAdapter.RequestLimitFactory.create("/customer-statement-export","POST");return(await a.run(async()=>this.ApiAdapter.post(`/v1/user/${t}/monetary-account/${e}/customer-statement/`,{statement_format:r,date_start:n,date_end:i,regional_format:s.regional_format}))).Response[0]}async get(t,e,r,n={}){const i=this.ApiAdapter.RequestLimitFactory.create("/customer-statement-export","GET");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/customer-statement/${r}`))).Response[0]}async delete(t,e,r,n={}){const i=this.ApiAdapter.RequestLimitFactory.create("/customer-statement-export","DELETE");return(await i.run(async()=>this.ApiAdapter.delete(`/v1/user/${t}/monetary-account/${e}/customer-statement/${r}`))).Response}async list(t,e,r={}){const n=this.ApiAdapter.RequestLimitFactory.create("/customer-statement-export","LIST");return(await n.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/customer-statement`))).Response}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async list(t,e,r,n={}){const i=this.ApiAdapter.RequestLimitFactory.create("/customer-statement-export/content","LIST");return await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/customer-statement/${r}/content`,{},{axiosOptions:{responseType:"blob"}}))}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async add(t={description:"My Device",permitted_ips:[]}){const e={description:t.description,secret:this.Session.apiKey};return t.permitted_ips.length>0&&(e.permitted_ips=t.permitted_ips),(await this.ApiAdapter.post("/v1/device-server",e)).Response[0].Id.id}async get(t={deviceId:null}){return null===t.deviceId&&(t.deviceId=this.Session.deviceId),(await this.ApiAdapter.get(`/v1/device-server/${t.deviceId}`)).Response[0].Id.id}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e,r,n={}){const i=this.ApiAdapter.RequestLimitFactory.create("/draft-payment");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/draft-payment/${r}`))).Response[0]}async list(t,e,r={count:50,newer_id:!1,older_id:!1}){const n={};void 0!==r.count&&(n.count=r.count),!1!==r.newer_id&&void 0!==r.newer_id&&(n.newer_id=r.newer_id),!1!==r.older_id&&void 0!==r.older_id&&(n.older_id=r.older_id);const i=this.ApiAdapter.RequestLimitFactory.create("/draft-payment","LIST");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/draft-payment`,{},{axiosOptions:{params:n}}))).Response}async post(t,e,r,n,i,s={}){const a=this.ApiAdapter.RequestLimitFactory.create("/draft-payment","POST"),o=[];return Array.isArray(i)?i.map(t=>{o.push({counterparty_alias:t,description:r,amount:n})}):o.push({counterparty_alias:i,description:r,amount:n}),(await a.run(async()=>this.ApiAdapter.post(`/v1/user/${t}/monetary-account/${e}/draft-payment`,{entries:o,number_of_required_accepts:1}))).Response}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async add(t={}){const e=await this.ApiAdapter.post("/v1/installation",{client_public_key:this.Session.publicKeyPem},{},{disableSigning:!0});return{id:e.Response[0].Id.id,token:e.Response[1].Token,serverPublicKey:e.Response[2].ServerPublicKey.server_public_key}}async get(t,e={}){const r=await this.ApiAdapter.get(`/v1/installation/${t}`);return{id:r.Response[0].Id.id,token:r.Response[1].Token,serverPublicKey:r.Response[2].ServerPublicKey.server_public_key}}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e,r){const n=this.ApiAdapter.RequestLimitFactory.create("/mastercard-action","GET");return(await n.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/mastercard-action/${r}`))).Response[0]}async list(t,e,r={count:50,newer_id:!1,older_id:!1}){const n={};void 0!==r.count&&(n.count=r.count),!1!==r.newer_id&&void 0!==r.newer_id&&(n.newer_id=r.newer_id),!1!==r.older_id&&void 0!==r.older_id&&(n.older_id=r.older_id);const i=this.ApiAdapter.RequestLimitFactory.create("/mastercard-action","LIST");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/mastercard-action`,{},{axiosOptions:{params:n}}))).Response}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e,r={}){const n=this.ApiAdapter.RequestLimitFactory.create("/monetary-account","GET");return(await n.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}`))).Response[0]}async list(t,e={count:25,newer_id:!1,older_id:!1}){const r={};void 0!==e.count&&(r.count=e.count),!1!==e.newer_id&&void 0!==e.newer_id&&(r.newer_id=e.newer_id),!1!==e.older_id&&void 0!==e.older_id&&(r.older_id=e.older_id);const n=this.ApiAdapter.RequestLimitFactory.create("/monetary-account","LIST");return(await n.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account`,{},{axiosOptions:{params:r}}))).Response}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e,r={}){const n=this.ApiAdapter.RequestLimitFactory.create("/monetary-account-bank","GET");return(await n.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account-bank/${e}`))).Response[0]}async list(t){const e=this.ApiAdapter.RequestLimitFactory.create("/monetary-account-bank","LIST");return(await e.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account-bank`))).Response}async post(t,e,r,n,i,s={}){const a=this.ApiAdapter.RequestLimitFactory.create("/monetary-account-bank","POST");return(await a.run(async()=>this.ApiAdapter.post(`/v1/user/${t}/monetary-account-bank`,{currency:e,description:r,daily_limit:{value:n,currency:e},setting:{color:i,default_avatar_status:"AVATAR_DEFAULT"}}))).Response}async putCancel(t,e,r,n,i,s={}){const a=this.ApiAdapter.RequestLimitFactory.create("/monetary-account-bank","PUT");return(await a.run(async()=>this.ApiAdapter.put(`/v1/user/${t}/monetary-account-bank/${e}`,{status:r,sub_status:n,reason:"OTHER",reason_description:i}))).Response}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e,r,n={}){const i=this.ApiAdapter.RequestLimitFactory.create("/payment");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/payment/${r}`))).Response[0]}async list(t,e,r={count:50,newer_id:!1,older_id:!1}){const n={};void 0!==r.count&&(n.count=r.count),!1!==r.newer_id&&void 0!==r.newer_id&&(n.newer_id=r.newer_id),!1!==r.older_id&&void 0!==r.older_id&&(n.older_id=r.older_id);const i=this.ApiAdapter.RequestLimitFactory.create("/payment","LIST");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/payment`,{},{axiosOptions:{params:n}}))).Response}async post(t,e,r,n,i,s={}){const a=this.ApiAdapter.RequestLimitFactory.create("/payment","POST");return(await a.run(async()=>this.ApiAdapter.post(`/v1/user/${t}/monetary-account/${e}/payment`,{counterparty_alias:i,description:r,amount:n}))).Response}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e,r,n={}){const i=this.ApiAdapter.RequestLimitFactory.create("/payment-batch");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/payment-batch/${r}`))).Response[0]}async list(t,e,r={count:50,newer_id:!1,older_id:!1}){const n={};void 0!==r.count&&(n.count=r.count),!1!==r.newer_id&&void 0!==r.newer_id&&(n.newer_id=r.newer_id),!1!==r.older_id&&void 0!==r.older_id&&(n.older_id=r.older_id);const i=this.ApiAdapter.RequestLimitFactory.create("/payment-batch","LIST");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/payment-batch`,{},{axiosOptions:{params:n}}))).Response}async post(t,e,r,n,i,s={}){const a=this.ApiAdapter.RequestLimitFactory.create("/payment-batch","POST"),o=i.map(t=>({counterparty_alias:t,description:r,amount:n}));return(await a.run(async()=>this.ApiAdapter.post(`/v1/user/${t}/monetary-account/${e}/payment-batch`,{payments:o}))).Response}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e,r){const n=this.ApiAdapter.RequestLimitFactory.create("/request-inquiry","GET");return(await n.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/request-inquiry/${r}`))).Response[0]}async list(t,e,r={count:50,newer_id:!1,older_id:!1}){const n={};void 0!==r.count&&(n.count=r.count),!1!==r.newer_id&&void 0!==r.newer_id&&(n.newer_id=r.newer_id),!1!==r.older_id&&void 0!==r.older_id&&(n.older_id=r.older_id);const i=this.ApiAdapter.RequestLimitFactory.create("/request-inquiry","LIST");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/request-inquiry`,{},{axiosOptions:{params:n}}))).Response}async post(t,e,r,n,i,s){const a=Object.assign({status:!1,minimum_age:!1,allow_bunqme:!1,redirect_url:!1,require_address:"NONE",merchant_reference:!1},s),o={counterparty_alias:i,description:r,amount_inquired:n,allow_bunqme:a.allow_bunqme,require_address:a.require_address};if(!1!==a.status&&(o.status=a.status),!1!==a.merchant_reference&&(o.merchant_reference=a.merchant_reference),!1!==a.minimum_age){if(a.minimum_age<12||a.minimum_age>100)throw new Error("Invalid minimum_age. Value has to be 12 >= minimum_age <= 100");o.minimum_age=a.minimum_age}!1!==a.redirect_url&&(o.redirect_url=a.redirect_url);const u=this.ApiAdapter.RequestLimitFactory.create("/request-inquiry","POST");return(await u.run(async()=>this.ApiAdapter.post(`/v1/user/${t}/monetary-account/${e}/request-inquiry`,o))).Response}async put(t,e,r,n="REVOKED"){const i=this.ApiAdapter.RequestLimitFactory.create("/request-inquiry","PUT");return(await i.run(async()=>this.ApiAdapter.put(`/v1/user/${t}/monetary-account/${e}/request-inquiry/${r}`,{status:n}))).Response}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e,r){const n=this.ApiAdapter.RequestLimitFactory.create("/request-inquiry-batch","GET");return(await n.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/request-inquiry-batch/${r}`))).Response[0]}async list(t,e,r={count:50,newer_id:!1,older_id:!1}){const n={};void 0!==r.count&&(n.count=r.count),!1!==r.newer_id&&void 0!==r.newer_id&&(n.newer_id=r.newer_id),!1!==r.older_id&&void 0!==r.older_id&&(n.older_id=r.older_id);const i=this.ApiAdapter.RequestLimitFactory.create("/request-inquiry-batch","LIST");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/request-inquiry-batch`,{},{axiosOptions:{params:n}}))).Response}async post(t,e,r,n=!1,i){const s={total_amount_inquired:0};let a=0;!1!==n&&(s.status=n);const o=[];r.map(t=>{if(t.minimum_age&&!1!==t.minimum_age&&(t.minimum_age<12||t.minimum_age>100))throw new Error("Invalid minimum_age. Value has to be 12 >= minimum_age <= 100");a+=parseFloat(t.amount_inquired.value),o.push(t)}),s.request_inquiries=r,s.total_amount_inquired={value:a+"",currency:"EUR"};const u=this.ApiAdapter.RequestLimitFactory.create("/request-inquiry-batch","POST");return(await u.run(async()=>this.ApiAdapter.post(`/v1/user/${t}/monetary-account/${e}/request-inquiry-batch`,s))).Response}async put(t,e,r,n="REVOKED"){const i=this.ApiAdapter.RequestLimitFactory.create("/request-inquiry-batch","PUT");return(await i.run(async()=>this.ApiAdapter.put(`/v1/user/${t}/monetary-account/${e}/request-inquiry-batch/${r}`,{status:n}))).Response}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e,r){const n=this.ApiAdapter.RequestLimitFactory.create("/request-response","GET");return(await n.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/request-response/${r}`))).Response[0]}async list(t,e,r={count:50,newer_id:!1,older_id:!1}){const n={};void 0!==r.count&&(n.count=r.count),!1!==r.newer_id&&void 0!==r.newer_id&&(n.newer_id=r.newer_id),!1!==r.older_id&&void 0!==r.older_id&&(n.older_id=r.older_id);const i=this.ApiAdapter.RequestLimitFactory.create("/request-response","LIST");return(await i.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/monetary-account/${e}/request-response`,{},{axiosOptions:{params:n}}))).Response}async put(t,e,r,n,i){const s=Object.assign({status:n,amount_responded:!1,address_shipping:!1,address_billing:!1},i),a={status:n};"ACCEPTED"===n&&(a.amount_responded=s.amount_responded,s.address_shipping&&(a.address_shipping=s.address_shipping),s.address_billing&&(a.address_billing=s.address_billing));const o=this.ApiAdapter.RequestLimitFactory.create("/request-response","PUT");return(await o.run(async()=>this.ApiAdapter.put(`/v1/user/${t}/monetary-account/${e}/request-response/${r}`,a))).Response}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async post(t={}){const e=this.ApiAdapter.RequestLimitFactory.create("/sandbox-user","POST");return(await e.run(async()=>this.ApiAdapter.post(`https://sandbox.public.api.bunq.com/v1/sandbox-user`,{},{},{disableSigning:!0}))).Response[0].ApiKey.api_key}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async add(t={}){const e=await this.ApiAdapter.post("/v1/session-server",{secret:this.Session.apiKey});return{id:e.Response[0].Id.id,token:e.Response[1].Token,user_info:e.Response[2]}}async delete(t={}){return await this.ApiAdapter.delete(`/v1/session/${this.Session.sessionId}`),!0}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e={}){const r=this.ApiAdapter.RequestLimitFactory.create("/user","GET");return(await r.run(async()=>this.ApiAdapter.get(`/v1/user/${t}`))).Response[0]}async list(t={}){const e=this.ApiAdapter.RequestLimitFactory.create("/user","LIST");return(await e.run(async()=>this.ApiAdapter.get(`/v1/user`))).Response[0]}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.ApiAdapter=t,this.Session=t.Session}async get(t,e,r){const n=this.ApiAdapter.RequestLimitFactory.create("/generated-cvc2","GET");return(await n.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/card/${e}/generated-cvc2/${r}`))).Response[0]}async list(t,e,r={}){const n=this.ApiAdapter.RequestLimitFactory.create("/generated-cvc2","LIST");return(await n.run(async()=>this.ApiAdapter.get(`/v1/user/${t}/card/${e}/generated-cvc2`))).Response}async post(t,e,r={}){const n=this.ApiAdapter.RequestLimitFactory.create("/generated-cvc2","POST");return(await n.run(async()=>this.ApiAdapter.put(`/v1/user/${t}/card/${e}/generated-cvc2`,{},{},{isEncrypted:!0}))).Response[0]}}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INSTALLATION_HAS_SESSION="INSTALLATION_HAS_SESSION",e.default={INSTALLATION_HAS_SESSION:e.INSTALLATION_HAS_SESSION}}])});